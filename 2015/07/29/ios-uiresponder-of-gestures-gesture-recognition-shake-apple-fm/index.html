<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="UIEvent,UIGestureRecognizer,UIResponder,UITouch,手势,手势识别,触摸事件," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="UIResponder&amp;#x54CD;&amp;#x5E94;&amp;#x8005;&amp;#x5728;iOS&amp;#x4E2D;&amp;#x4E0D;&amp;#x662F;&amp;#x4EFB;&amp;#x4F55;&amp;#x5BF9;&amp;#x8C61;&amp;#x90FD;&amp;#x80FD;&amp;#x5904;&amp;#x7406;&amp;#x4E8B;&amp;#x4EF6;,&amp;#x53EA;&amp;#x6709;&amp;#x7EE7;&amp;#x627F;&amp;#x4E86;UIRespond">
<meta property="og:type" content="article">
<meta property="og:title" content="ios的手势操作之UIResponder、手势识别、摇晃事件、耳机线控">
<meta property="og:url" content="http://yoursite.com/2015/07/29/ios-uiresponder-of-gestures-gesture-recognition-shake-apple-fm/index.html">
<meta property="og:site_name" content="BirdMichael">
<meta property="og:description" content="UIResponder&amp;#x54CD;&amp;#x5E94;&amp;#x8005;&amp;#x5728;iOS&amp;#x4E2D;&amp;#x4E0D;&amp;#x662F;&amp;#x4EFB;&amp;#x4F55;&amp;#x5BF9;&amp;#x8C61;&amp;#x90FD;&amp;#x80FD;&amp;#x5904;&amp;#x7406;&amp;#x4E8B;&amp;#x4EF6;,&amp;#x53EA;&amp;#x6709;&amp;#x7EE7;&amp;#x627F;&amp;#x4E86;UIRespond">
<meta property="og:image" content="http://birdmichael.com/wp-content/uploads/2015/07/020632292508224.png">
<meta property="og:image" content="http://birdmichael.com/wp-content/uploads/2015/07/020632340003907.png">
<meta property="og:image" content="http://birdmichael.com/wp-content/uploads/2015/07/020632363914977.png">
<meta property="og:image" content="http://images.cnitblog.com/blog/62046/201409/020633051412527.gif">
<meta property="og:image" content="http://images.cnitblog.com/blog/62046/201409/020633069389711.png">
<meta property="og:updated_time" content="2016-07-25T06:30:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ios的手势操作之UIResponder、手势识别、摇晃事件、耳机线控">
<meta name="twitter:description" content="UIResponder&amp;#x54CD;&amp;#x5E94;&amp;#x8005;&amp;#x5728;iOS&amp;#x4E2D;&amp;#x4E0D;&amp;#x662F;&amp;#x4EFB;&amp;#x4F55;&amp;#x5BF9;&amp;#x8C61;&amp;#x90FD;&amp;#x80FD;&amp;#x5904;&amp;#x7406;&amp;#x4E8B;&amp;#x4EF6;,&amp;#x53EA;&amp;#x6709;&amp;#x7EE7;&amp;#x627F;&amp;#x4E86;UIRespond">
<meta name="twitter:image" content="http://birdmichael.com/wp-content/uploads/2015/07/020632292508224.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2015/07/29/ios-uiresponder-of-gestures-gesture-recognition-shake-apple-fm/"/>

  <title> ios的手势操作之UIResponder、手势识别、摇晃事件、耳机线控 | BirdMichael </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">BirdMichael</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                ios的手势操作之UIResponder、手势识别、摇晃事件、耳机线控
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-07-29T22:01:34+08:00" content="2015-07-29">
              2015-07-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/OC/" itemprop="url" rel="index">
                    <span itemprop="name">OC</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/OC/UI/" itemprop="url" rel="index">
                    <span itemprop="name">UI</span>
                  </a>
                </span>

                
                
                  ， 
                

              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/OC/UI/Xcode/" itemprop="url" rel="index">
                    <span itemprop="name">Xcode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="UIResponder"><a href="#UIResponder" class="headerlink" title="UIResponder"></a>UIResponder</h2><h3 id="&#x54CD;&#x5E94;&#x8005;"><a href="#&#x54CD;&#x5E94;&#x8005;" class="headerlink" title="&#x54CD;&#x5E94;&#x8005;"></a>&#x54CD;&#x5E94;&#x8005;</h3><p>&#x5728;iOS&#x4E2D;&#x4E0D;&#x662F;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x90FD;&#x80FD;&#x5904;&#x7406;&#x4E8B;&#x4EF6;,&#x53EA;&#x6709;&#x7EE7;&#x627F;&#x4E86;UIResponder&#x7684;&#x5BF9;&#x8C61;&#x624D;&#x80FD;&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;&#x4E8B;&#x4EF6;.&#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x201D;&#x54CD;&#x5E94;&#x8005;&#x5BF9;&#x8C61;&#x201D;.</p>
<p>UIApplication&#x3001;UIViewController&#x3001;UIView&#x90FD;&#x7EE7;&#x627F;&#x81EA;UIResponder&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x54CD;&#x5E94;&#x8005;&#x5BF9;&#x8C61;&#xFF0C;&#x90FD;&#x80FD;&#x591F;&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;&#x4E8B;&#x4EF6;.</p>
<p>&#xA0;</p>
<h3 id="IOS&#x4E8B;&#x4EF6;"><a href="#IOS&#x4E8B;&#x4EF6;" class="headerlink" title="IOS&#x4E8B;&#x4EF6;"></a>IOS&#x4E8B;&#x4EF6;</h3><p>iOS&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;3&#x5927;&#x7C7B;&#x578B;</p>
<ol>
<li>&#x89E6;&#x6478;&#x4E8B;&#x4EF6;</li>
<li>&#x52A0;&#x901F;&#x8BA1;&#x4E8B;&#x4EF6;</li>
<li>&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;<a id="more"></a>
</li>
</ol>
<p><a href="http://birdmichael.com/wp-content/uploads/2015/07/020632292508224.png" target="_blank" rel="external"><img src="http://birdmichael.com/wp-content/uploads/2015/07/020632292508224.png" alt="020632292508224"></a></p>
<p>&#x5728;iOS&#x4E2D;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x7C7B;&#x90FD;&#x80FD;&#x5904;&#x7406;&#x63A5;&#x6536;&#x5E76;&#x4E8B;&#x4EF6;&#xFF0C;&#x53EA;&#x6709;&#x7EE7;&#x627F;&#x81EA;UIResponder&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x624D;&#x80FD;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#xFF08;&#x5982;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x7684;UIView&#x3001;UIViewController&#x3001;UIApplication&#x90FD;&#x7EE7;&#x627F;&#x81EA;UIResponder&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x80FD;&#x63A5;&#x6536;&#x5E76;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#xFF09;&#x3002;&#x5728;UIResponder&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x4E0A;&#x9762;&#x4E09;&#x7C7B;&#x4E8B;&#x4EF6;&#x76F8;&#x5173;&#x7684;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="lang:objc decode:true ">// &#x89E6;&#x6478;&#x4E8B;&#x4EF6;     
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event;
// &#x4E00;&#x6839;&#x6216;&#x591A;&#x6839;&#x624B;&#x6307;&#x5F00;&#x59CB;&#x89E6;&#x6478;&#x5C4F;&#x5E55;&#x65F6;&#x6267;&#x884C;&#xFF1B;
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event;
// &#x4E00;&#x6839;&#x6216;&#x591A;&#x6839;&#x624B;&#x6307;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x79FB;&#x52A8;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x6CE8;&#x610F;&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x79FB;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x91CD;&#x590D;&#x8C03;&#x7528;&#xFF1B;
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event;
// &#x4E00;&#x6839;&#x6216;&#x591A;&#x6839;&#x624B;&#x6307;&#x89E6;&#x6478;&#x7ED3;&#x675F;&#x79BB;&#x5F00;&#x5C4F;&#x5E55;&#x65F6;&#x6267;&#x884C;&#xFF1B;
- (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event;
// &#x89E6;&#x6478;&#x610F;&#x5916;&#x53D6;&#x6D88;&#x65F6;&#x6267;&#x884C;&#xFF08;&#x4F8B;&#x5982;&#x6B63;&#x5728;&#x89E6;&#x6478;&#x65F6;&#x6253;&#x5165;&#x7535;&#x8BDD;&#xFF09;&#xFF1B;

// &#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;     
- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event NS_AVAILABLE_IOS(3_0);
// &#x8FD0;&#x52A8;&#x5F00;&#x59CB;&#x65F6;&#x6267;&#x884C;&#xFF1B;
- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event NS_AVAILABLE_IOS(3_0);
// &#x8FD0;&#x52A8;&#x7ED3;&#x675F;&#x540E;&#x6267;&#x884C;&#xFF1B;
- (void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event NS_AVAILABLE_IOS(3_0);    
// &#x8FD0;&#x52A8;&#x88AB;&#x610F;&#x5916;&#x53D6;&#x6D88;&#x65F6;&#x6267;&#x884C;&#xFF1B;

// &#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;     
- (void)remoteControlReceivedWithEvent:(UIEvent *)event NS_AVAILABLE_IOS(4_0);
// &#x63A5;&#x6536;&#x5230;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x6D88;&#x606F;&#x65F6;&#x6267;&#x884C;&#xFF1B;</pre>
&#xA0;

### UIResponder&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x65B9;&#x6CD5;

<pre class="lang:objc decode:true">// &#x89E6;&#x6478;&#x4E8B;&#x4EF6;
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event;
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event;
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event;
- (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event;

// &#x52A0;&#x901F;&#x8BA1;&#x4E8B;&#x4EF6;
- (void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event;
- (void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event;
- (void)motionCancelled:(UIEventSubtype)motion withEvent:(UIEvent *)event;

// &#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;
- (void)remoteControlReceivedWithEvent:(UIEvent *)event;
</pre>
&#xA0;
<pre class="lang:objc decode:true ">// &#x4E00;&#x6839;&#x6216;&#x8005;&#x591A;&#x6839;&#x624B;&#x6307;&#x5F00;&#x59CB;&#x89E6;&#x6478;view&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;view&#x7684;&#x4E0B;&#x9762;&#x65B9;&#x6CD5;
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event

// &#x4E00;&#x6839;&#x6216;&#x8005;&#x591A;&#x6839;&#x624B;&#x6307;&#x5728;view&#x4E0A;&#x79FB;&#x52A8;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;view&#x7684;&#x4E0B;&#x9762;&#x65B9;&#x6CD5;&#xFF08;&#x968F;&#x7740;&#x624B;&#x6307;&#x7684;&#x79FB;&#x52A8;&#xFF0C;&#x4F1A;&#x6301;&#x7EED;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF09;
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event

// &#x4E00;&#x6839;&#x6216;&#x8005;&#x591A;&#x6839;&#x624B;&#x6307;&#x79BB;&#x5F00;view&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;view&#x7684;&#x4E0B;&#x9762;&#x65B9;&#x6CD5;
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event

// &#x89E6;&#x6478;&#x7ED3;&#x675F;&#x524D;&#xFF0C;&#x67D0;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E8B;&#x4EF6;(&#x4F8B;&#x5982;&#x7535;&#x8BDD;&#x547C;&#x5165;)&#x4F1A;&#x6253;&#x65AD;&#x89E6;&#x6478;&#x8FC7;&#x7A0B;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x8C03;&#x7528;view&#x7684;&#x4E0B;&#x9762;&#x65B9;&#x6CD5;
- (void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event

</pre>
**&#x63D0;&#x793A;**&#xFF1A;touches&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x90FD;&#x662F;UITouch&#x5BF9;&#x8C61;(&#x5F53;&#x7528;&#x6237;&#x7528;&#x4E00;&#x6839;&#x89E6;&#x6478;&#x5C4F;&#x5E55;&#x65F6;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;&#x624B;&#x6307;&#x76F8;&#x5173;&#x8054;&#x7684;UITouch&#x5BF9;&#x8C61;,&#x4E00;&#x6839;&#x624B;&#x6307;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;UITouch&#x5BF9;&#x8C61;)

&#xA0;

### UITouch

&#x4FDD;&#x5B58;&#x7740;&#x8DDF;&#x624B;&#x6307;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x89E6;&#x6478;&#x7684;&#x4F4D;&#x7F6E;&#x3001;&#x65F6;&#x95F4;&#x3001;&#x9636;&#x6BB5;

*   &#x5F53;&#x624B;&#x6307;&#x79FB;&#x52A8;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x66F4;&#x65B0;&#x540C;&#x4E00;&#x4E2A;UITouch&#x5BF9;&#x8C61;&#xFF0C;&#x4F7F;&#x4E4B;&#x80FD;&#x591F;&#x4E00;&#x76F4;&#x4FDD;&#x5B58;&#x8BE5;&#x624B;&#x6307;&#x5728;&#x7684;&#x89E6;&#x6478;&#x4F4D;&#x7F6E;
*   &#x5F53;&#x624B;&#x6307;&#x79BB;&#x5F00;&#x5C4F;&#x5E55;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x9500;&#x6BC1;&#x76F8;&#x5E94;&#x7684;UITouch&#x5BF9;&#x8C61;
&gt; &#x63D0;&#x793A;&#xFF1A;iPhone&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x8981;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x53CC;&#x51FB;&#x4E8B;&#x4EF6;&#xFF01;
&#x5C5E;&#x6027;:
<pre class="lang:objc decode:true">// &#x89E6;&#x6478;&#x4EA7;&#x751F;&#x65F6;&#x6240;&#x5904;&#x7684;&#x7A97;&#x53E3;
@property(nonatomic,readonly,retain) UIWindow    *window;
// &#x89E6;&#x6478;&#x4EA7;&#x751F;&#x65F6;&#x6240;&#x5904;&#x7684;&#x89C6;&#x56FE;
@property(nonatomic,readonly,retain) UIView      *view;
// &#x77ED;&#x65F6;&#x95F4;&#x5185;&#x70B9;&#x6309;&#x5C4F;&#x5E55;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;tapCount&#x5224;&#x65AD;&#x5355;&#x51FB;&#x3001;&#x53CC;&#x51FB;&#x6216;&#x66F4;&#x591A;&#x7684;&#x70B9;&#x51FB;
@property(nonatomic,readonly) NSUInteger          tapCount;
// &#x8BB0;&#x5F55;&#x4E86;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x4EA7;&#x751F;&#x6216;&#x53D8;&#x5316;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x662F;&#x79D2;
@property(nonatomic,readonly) NSTimeInterval      timestamp;
// &#x5F53;&#x524D;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x6240;&#x5904;&#x7684;&#x72B6;&#x6001;
@property(nonatomic,readonly) UITouchPhase        phase;
</pre>
&#x5176;&#x4E2D;,UITouchPhase&#x662F;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#xFF0C;&#x5305;&#x542B;&#xFF1A;UITouchPhaseBegan&#xFF08;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#xFF09;,UITouchPhaseMoved&#xFF08;&#x63A5;&#x89E6;&#x70B9;&#x79FB;&#x52A8;&#xFF09;,UITouchPhaseStationary&#xFF08;&#x63A5;&#x89E6;&#x70B9;&#x65E0;&#x79FB;&#x52A8;&#xFF09;,UITouchPhaseEnded&#xFF08;&#x89E6;&#x6478;&#x7ED3;&#x675F;&#xFF09;,UITouchPhaseCancelled&#xFF08;&#x89E6;&#x6478;&#x53D6;&#x6D88;&#xFF09;.

&#x65B9;&#x6CD5;:
<pre class="lang:objc decode:true">- (CGPoint)locationInView:(UIView *)view;
</pre>
&#x8FD4;&#x56DE;&#x503C;&#x8868;&#x793A;&#x89E6;&#x6478;&#x5728;view&#x4E0A;&#x7684;&#x4F4D;&#x7F6E;
&#x8FD9;&#x91CC;&#x8FD4;&#x56DE;&#x7684;&#x4F4D;&#x7F6E;&#x662F;&#x9488;&#x5BF9;view&#x7684;&#x5750;&#x6807;&#x7CFB;&#x7684;&#xFF08;&#x4EE5;view&#x7684;&#x5DE6;&#x4E0A;&#x89D2;&#x4E3A;&#x539F;&#x70B9;(0, 0)&#xFF09;
&#x8C03;&#x7528;&#x65F6;&#x4F20;&#x5165;&#x7684;view&#x53C2;&#x6570;&#x4E3A;nil&#x7684;&#x8BDD;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x89E6;&#x6478;&#x70B9;&#x5728;UIWindow&#x7684;&#x4F4D;&#x7F6E;

&#xA0;
<pre class="lang:objc decode:true ">- (CGPoint)previousLocationInView:(UIView *)view;</pre>
&#x8BE5;&#x65B9;&#x6CD5;&#x8BB0;&#x5F55;&#x4E86;&#x524D;&#x4E00;&#x4E2A;&#x89E6;&#x6478;&#x70B9;&#x7684;&#x4F4D;&#x7F6E;

&#xA0;

### UIEvent

&#x6BCF;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;UIEvent&#x5BF9;&#x8C61;(&#x79F0;&#x4E3A;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#xFF0C;&#x8BB0;&#x5F55;&#x4E8B;&#x4EF6;&#x4EA7;&#x751F;&#x7684;&#x65F6;&#x523B;&#x548C;&#x7C7B;&#x578B;)

&#x5C5E;&#x6027;:
<pre class="lang:objc decode:true">// &#x4E8B;&#x4EF6;&#x7C7B;&#x578B;
@property(nonatomic,readonly) UIEventType     type;
@property(nonatomic,readonly) UIEventSubtype  subtype;
// &#x4E8B;&#x4EF6;&#x4EA7;&#x751F;&#x7684;&#x65F6;&#x95F4;
@property(nonatomic,readonly) NSTimeInterval  timestamp;
</pre>
<pre class="lang:objc decode:true ">typedef NS_ENUM(NSInteger, UIEventType) {
    UIEventTypeTouches,
    UIEventTypeMotion,
    UIEventTypeRemoteControl,
};

typedef NS_ENUM(NSInteger, UIEventSubtype) {
    // available in iPhone OS 3.0
    UIEventSubtypeNone                              = 0,

    // for UIEventTypeMotion, available in iPhone OS 3.0
    UIEventSubtypeMotionShake                       = 1,

    // for UIEventTypeRemoteControl, available in iOS 4.0
    UIEventSubtypeRemoteControlPlay                 = 100,
    UIEventSubtypeRemoteControlPause                = 101,
    UIEventSubtypeRemoteControlStop                 = 102,
    UIEventSubtypeRemoteControlTogglePlayPause      = 103,
    UIEventSubtypeRemoteControlNextTrack            = 104,
    UIEventSubtypeRemoteControlPreviousTrack        = 105,
    UIEventSubtypeRemoteControlBeginSeekingBackward = 106,
    UIEventSubtypeRemoteControlEndSeekingBackward   = 107,
    UIEventSubtypeRemoteControlBeginSeekingForward  = 108,
    UIEventSubtypeRemoteControlEndSeekingForward    = 109,
};
</pre>

<h3 id="&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x673A;&#x5236;"><a href="#&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x673A;&#x5236;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x673A;&#x5236;"></a>&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x673A;&#x5236;</h3><p>&#x5728;iOS&#x4E2D;&#x53D1;&#x751F;&#x89E6;&#x6478;&#x540E;&#xFF0C;&#x4E8B;&#x4EF6;&#x4F1A;&#x52A0;&#x5165;&#x5230;UIApplication&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#xFF08;&#x5728;&#x8FD9;&#x4E2A;&#x7CFB;&#x5217;&#x5173;&#x4E8E;iOS&#x5F00;&#x53D1;&#x7684;&#x7B2C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#x6211;&#x4EEC;&#x5206;&#x6790;iOS&#x7A0B;&#x5E8F;&#x539F;&#x7406;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x8BF4;&#x8FC7;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x540E;UIApplication&#x4F1A;&#x5FAA;&#x73AF;&#x76D1;&#x542C;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#xFF09;&#xFF0C;UIApplication&#x4F1A;&#x4ECE;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x53D6;&#x51FA;&#x6700;&#x524D;&#x9762;&#x7684;&#x4E8B;&#x4EF6;&#x5E76;&#x5206;&#x53D1;&#x5904;&#x7406;&#xFF0C;&#x901A;&#x5E38;&#x5148;&#x5206;&#x53D1;&#x7ED9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E3B;&#x7A97;&#x53E3;&#xFF0C;&#x4E3B;&#x7A97;&#x53E3;&#x4F1A;&#x8C03;&#x7528;<strong>hitTest:withEvent:</strong>&#x65B9;&#x6CD5;&#xFF08;&#x5047;&#x8BBE;&#x79F0;&#x4E3A;&#x65B9;&#x6CD5;A&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x662F;UIView&#x7684;&#x65B9;&#x6CD5;&#xFF09;&#xFF0C;&#x67E5;&#x627E;&#x5408;&#x9002;&#x7684;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x89C6;&#x56FE;&#xFF08;&#x8FD9;&#x91CC;&#x901A;&#x5E38;&#x79F0;&#x4E3A;&#x201C;hit-test view&#x201D;&#xFF09;&#xFF1A;</p>
<ol>
<li>&#x5728;&#x9876;&#x7EA7;&#x89C6;&#x56FE;&#xFF08;key window&#x7684;&#x89C6;&#x56FE;&#xFF09;&#x4E0A;&#x8C03;&#x7528;pointInside:withEvent:&#x65B9;&#x6CD5;&#x5224;&#x65AD;&#x89E6;&#x6478;&#x70B9;&#x662F;&#x5426;&#x5728;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x5185;&#xFF1B;</li>
<li>&#x5982;&#x679C;&#x8FD4;&#x56DE;NO&#xFF0C;&#x90A3;&#x4E48;A&#x8FD4;&#x56DE;nil&#xFF1B;</li>
<li>&#x5982;&#x679C;&#x8FD4;&#x56DE;YES&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x4F1A;&#x5411;&#x5F53;&#x524D;&#x89C6;&#x56FE;&#x7684;&#x6240;&#x6709;&#x5B50;&#x89C6;&#x56FE;&#xFF08;key window&#x7684;&#x5B50;&#x89C6;&#x56FE;&#xFF09;&#x53D1;&#x9001;hitTest:withEvent:&#x6D88;&#x606F;&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x5B50;&#x89C6;&#x56FE;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x4ECE;subviews&#x6570;&#x7EC4;&#x7684;&#x672B;&#x5C3E;&#x5411;&#x524D;&#x904D;&#x5386;&#xFF08;&#x4ECE;&#x754C;&#x9762;&#x6700;&#x4E0A;&#x65B9;&#x5F00;&#x59CB;&#x5411;&#x4E0B;&#x904D;&#x5386;&#xFF09;&#x3002;</li>
<li>&#x5982;&#x679C;&#x6709;subview&#x7684;hitTest:withEvent:&#x8FD4;&#x56DE;&#x975E;&#x7A7A;&#x5BF9;&#x8C61;&#x5219;A&#x8FD4;&#x56DE;&#x6B64;&#x5BF9;&#x8C61;&#xFF0C;&#x5904;&#x7406;&#x7ED3;&#x675F;&#xFF08;&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x5B50;&#x89C6;&#x56FE;&#x4E5F;&#x662F;&#x6839;&#x636E;pointInside:withEvent:&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x6765;&#x786E;&#x5B9A;&#x662F;&#x8FD4;&#x56DE;&#x7A7A;&#x8FD8;&#x662F;&#x5F53;&#x524D;&#x5B50;&#x89C6;&#x56FE;&#x5BF9;&#x8C61;&#x7684;&#x3002;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x5982;&#x679C;&#x5B50;&#x89C6;&#x56FE;&#x7684;hidden=YES&#x3001;userInteractionEnabled=NO&#x6216;&#x8005;alpha&#x5C0F;&#x4E8E;0.1&#x90FD;&#x4F1A;&#x5E76;&#x5FFD;&#x7565;&#xFF09;&#xFF1B;</li>
<li>&#x5982;&#x679C;&#x6240;&#x6709;subview&#x904D;&#x5386;&#x7ED3;&#x675F;&#x4ECD;&#x7136;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x975E;&#x7A7A;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;A&#x8FD4;&#x56DE;&#x9876;&#x7EA7;&#x89C6;&#x56FE;&#xFF1B;<br>&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;&#x5C31;&#x662F;&#x70B9;&#x51FB;&#x68C0;&#x6D4B;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x67E5;&#x627E;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x8005;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x89E6;&#x6478;&#x5BF9;&#x8C61;&#x5E76;&#x975E;&#x5C31;&#x662F;&#x4E8B;&#x4EF6;&#x7684;&#x54CD;&#x5E94;&#x8005;&#xFF0C;&#x68C0;&#x6D4B;&#x5230;&#x4E86;&#x89E6;&#x6478;&#x7684;&#x5BF9;&#x8C61;&#x4E4B;&#x540E;&#xFF0C;&#x4E8B;&#x4EF6;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x54CD;&#x5E94;&#x5462;&#xFF1F;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x5FC5;&#x987B;&#x5F15;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6982;&#x5FF5;&#x201C;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x201D;&#x3002;</li>
</ol>
<p>&#x4EC0;&#x4E48;&#x662F;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5728;iOS&#x7A0B;&#x5E8F;&#x4E2D;&#x65E0;&#x8BBA;&#x662F;&#x6700;&#x540E;&#x9762;&#x7684;UIWindow&#x8FD8;&#x662F;&#x6700;&#x524D;&#x9762;&#x7684;&#x67D0;&#x4E2A;&#x6309;&#x94AE;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x6446;&#x653E;&#x662F;&#x6709;&#x524D;&#x540E;&#x5173;&#x7CFB;&#x7684;&#xFF0C;&#x4E00;&#x4E2A;&#x63A7;&#x4EF6;&#x53EF;&#x4EE5;&#x653E;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x63A7;&#x4EF6;&#x4E0A;&#x9762;&#x6216;&#x4E0B;&#x9762;&#xFF0C;&#x90A3;&#x4E48;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x67D0;&#x4E2A;&#x63A7;&#x4EF6;&#x65F6;&#x662F;&#x89E6;&#x53D1;&#x4E0A;&#x9762;&#x7684;&#x63A7;&#x4EF6;&#x8FD8;&#x662F;&#x4E0B;&#x9762;&#x7684;&#x63A7;&#x4EF6;&#x5462;&#xFF0C;&#x8FD9;&#x79CD;&#x5148;&#x540E;&#x5173;&#x7CFB;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x94FE;&#x6761;&#x5C31;&#x53EB;&#x201C;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x201D;&#x3002;&#x5728;iOS&#x4E2D;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x7684;&#x5173;&#x7CFB;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x56FE;&#x8868;&#x793A;&#xFF1A;</p>
<p><a href="http://birdmichael.com/wp-content/uploads/2015/07/020632340003907.png" target="_blank" rel="external"><img src="http://birdmichael.com/wp-content/uploads/2015/07/020632340003907.png" alt="020632340003907"></a></p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x540E;&#x9996;&#x5148;&#x770B;initial view&#x80FD;&#x5426;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5219;&#x4F1A;&#x5C06;&#x4E8B;&#x4EF6;&#x4F20;&#x9012;&#x7ED9;&#x5176;&#x4E0A;&#x7EA7;&#x89C6;&#x56FE;&#xFF08;inital view&#x7684;superView&#xFF09;&#xFF1B;&#x5982;&#x679C;&#x4E0A;&#x7EA7;&#x89C6;&#x56FE;&#x4ECD;&#x7136;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x5219;&#x4F1A;&#x7EE7;&#x7EED;&#x5F80;&#x4E0A;&#x4F20;&#x9012;&#xFF1B;&#x4E00;&#x76F4;&#x4F20;&#x9012;&#x5230;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;view controller&#xFF0C;&#x9996;&#x5148;&#x5224;&#x65AD;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7684;&#x6839;&#x89C6;&#x56FE;view&#x662F;&#x5426;&#x80FD;&#x5904;&#x7406;&#x6B64;&#x4E8B;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5219;&#x63A5;&#x7740;&#x5224;&#x65AD;&#x8BE5;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x80FD;&#x5426;&#x5904;&#x7406;&#x6B64;&#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x662F;&#x4E0D;&#x80FD;&#x5219;&#x7EE7;&#x7EED;&#x5411;&#x4E0A;&#x4F20;&#x9012;&#xFF1B;&#xFF08;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E8C;&#x4E2A;&#x56FE;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x672C;&#x8EAB;&#x8FD8;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#xFF0C;&#x5219;&#x7EE7;&#x7EED;&#x4EA4;&#x7ED9;&#x7236;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7684;&#x6839;&#x89C6;&#x56FE;&#xFF0C;&#x5982;&#x679C;&#x6839;&#x89C6;&#x56FE;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x5219;&#x4EA4;&#x7ED9;&#x7236;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x5904;&#x7406;&#xFF09;&#xFF1B;&#x4E00;&#x76F4;&#x5230;window&#xFF0C;&#x5982;&#x679C;window&#x8FD8;&#x662F;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x6B64;&#x4E8B;&#x4EF6;&#x5219;&#x7EE7;&#x7EED;&#x4EA4;&#x7ED9;application&#xFF08;UIApplication&#x5355;&#x4F8B;&#x5BF9;&#x8C61;&#xFF09;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x6700;&#x540E;application&#x8FD8;&#x662F;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x6B64;&#x4E8B;&#x4EF6;&#x5219;&#x5C06;&#x5176;&#x4E22;&#x5F03;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5927;&#x5BB6;&#x7406;&#x89E3;&#x8D77;&#x6765;&#x5E76;&#x4E0D;&#x96BE;&#xFF0C;&#x5173;&#x952E;&#x95EE;&#x9898;&#x662F;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x5404;&#x4E2A;&#x5BF9;&#x8C61;&#x5982;&#x4F55;&#x77E5;&#x9053;&#x81EA;&#x5DF1;&#x80FD;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x8BE5;&#x4E8B;&#x4EF6;&#x5462;&#xFF1F;&#x5BF9;&#x4E8E;&#x7EE7;&#x627F;UIResponder&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x6709;&#x51E0;&#x4E2A;&#x6761;&#x4EF6;&#xFF1A;</p>
<ul>
<li>userInteractionEnabled=NO</li>
<li>hidden=YES</li>
<li>alpha=0~0.01</li>
<li>&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x5F00;&#x59CB;&#x89E6;&#x6478;&#x65B9;&#x6CD5;&#xFF08;&#x6CE8;&#x610F;&#x662F;touchesBegan:withEvent:&#x800C;&#x4E0D;&#x662F;&#x79FB;&#x52A8;&#x548C;&#x7ED3;&#x675F;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF09;</li>
<li>&#x63D0;&#x793A;:UIImageView&#x7684;userInteractionEnabled&#x9ED8;&#x8BA4;&#x5C31;&#x662F;NO&#xFF0C;&#x56E0;&#x6B64;UIImageView&#x4EE5;&#x53CA;&#x5B83;&#x7684;&#x5B50;&#x63A7;&#x4EF6;&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x80FD;&#x63A5;&#x6536;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x7684;<br>&#x5F53;&#x7136;&#x524D;&#x4E09;&#x70B9;&#x90FD;&#x662F;&#x9488;&#x5BF9;UIView&#x63A7;&#x4EF6;&#x6216;&#x5176;&#x5B50;&#x63A7;&#x4EF6;&#x800C;&#x8A00;&#x7684;&#xFF0C;&#x7B2C;&#x56DB;&#x70B9;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;UIView&#x4E5F;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7B49;&#x5176;&#x4ED6;UIResponder&#x5B50;&#x7C7B;&#x3002;&#x5BF9;&#x4E8E;&#x7B2C;&#x56DB;&#x79CD;&#x60C5;&#x51B5;&#x8FD9;&#x91CC;&#x518D;&#x6B21;&#x5F3A;&#x8C03;&#x662F;&#x5BF9;&#x8C61;&#x4E2D;&#x91CD;&#x5199;&#x4E86;&#x5F00;&#x59CB;&#x89E6;&#x6478;&#x65B9;&#x6CD5;&#xFF0C;&#x5219;&#x4F1A;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x5199;&#x4E86;&#x79FB;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x89E6;&#x6478;&#x6216;&#x53D6;&#x6D88;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF08;&#x6216;&#x8005;&#x8FD9;&#x4E09;&#x4E2A;&#x4E8B;&#x4EF6;&#x90FD;&#x91CD;&#x5199;&#x4E86;&#xFF09;&#x6CA1;&#x6709;&#x5199;&#x5F00;&#x59CB;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF0C;&#x5219;&#x6B64;&#x4E8B;&#x4EF6;&#x8BE5;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;<blockquote>
<p>&#x5176;&#x5B9E;&#x5F88;&#x7B80;&#x5355;:</p>
<p>&#x7B2C;&#x4E00;&#x6B65;&#x4F20;&#x9012;:&#x5982;&#x679C;&#x7236;&#x63A7;&#x4EF6;&#x4E0D;&#x80FD;&#x63A5;&#x6536;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x5B50;&#x63A7;&#x4EF6;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x63A5;&#x6536;&#x5230;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;</p>
<p>:&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x7684;3&#x4E2A;&#x6761;&#x4EF6;:1.&#x6CA1;&#x6709;&#x5F00;&#x542F;&#x7528;&#x6237;&#x4EA4;&#x4E92;.2.&#x9690;&#x85CF;.3.&#x900F;&#x660E;&#x5EA6;&#x4ECB;&#x4E8E;0&#x5230;0.01.4.&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;.</p>
<p>:&#x4F20;&#x9012;&#x8FC7;&#x7A0B;&#x4E2D;&#x90FD;&#x662F;&#x7531;&#x7236;&#x63A7;&#x4EF6;&#x5411;&#x5B50;&#x63A7;&#x4EF6;.UIApplication&gt;window&gt;&#x63A7;&#x5236;&#x5668;View&#x53CA;&#x5B50;&#x63A7;&#x4EF6;(&#x5B50;&#x63A7;&#x4EF6;&#x6570;&#x7EC4;)</p>
<p>.</p>
<p>&#x7B2C;&#x4E8C;&#x6B65;&#x54CD;&#x5E94;:&#x5982;&#x679C;&#x5B50;&#x63A7;&#x4EF6;&#x4E0D;&#x8C03;&#x7528;&#x7236;&#x63A7;&#x4EF6;<span class="s1">touchesBegan(&#x6216;</span><span class="s1">Moved&#x53CA;</span><span class="s1">Ended&#x7B49;</span><span class="s1">): withEvent:&#x65B9;&#x6CD5;,&#x94FE;&#x6761;&#x5C06;&#x65AD;&#x88C2;,&#x94FE;&#x6761;&#x4E2D;Next&#x54CD;&#x5E94;&#x8005;&#x5C06;&#x4E0D;&#x4F1A;&#x54CD;&#x5E94;.</span></p>
<p>:&#x5982;&#x679C;view&#x7684;&#x63A7;&#x5236;&#x5668;&#x5B58;&#x5728;,&#x5C31;&#x4F20;&#x9012;&#x7ED9;&#x63A7;&#x5236;&#x5668;;&#x5982;&#x679C;&#x63A7;&#x5236;&#x5668;&#x4E0D;&#x5B58;&#x5728;,&#x5219;&#x5C06;&#x5176;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x7684;&#x7236;&#x89C6;&#x56FE;.</p>
<p>:&#x4F20;&#x9012;&#x8FC7;&#x7A0B;&#x4E2D;&#x90FD;&#x662F;&#x7531;&#x5B50;&#x63A7;&#x4EF6;&#x5411;&#x7236;&#x63A7;&#x4EF6;.&#x5B50;&#x63A7;&#x4EF6;&gt;&#x5F53;&#x524D;&#x63A7;&#x4EF6;&#x63A7;&#x5236;&#x5668;&gt;&#x7236;&#x63A7;&#x4EF6;&gt;UIWindow&gt;UIApplication</p>
<p>:&#x5982;&#x679C;UIApplication&#x4E5F;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x8BE5;&#x4E8B;&#x4EF6;&#x6216;&#x6D88;&#x606F;,&#x5219;&#x5C06;&#x5176;&#x4E22;&#x5F03;,&#x5B8C;&#x6210;&#x6B64;&#x6B21;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x6761;<br>&#xA0;</p>
</blockquote>
</li>
</ul>
<p>&#xA0;</p>
<h2 id="UIGestureRecognizer"><a href="#UIGestureRecognizer" class="headerlink" title="UIGestureRecognizer"></a>UIGestureRecognizer</h2><p><strong>UIGestureRecognizer&#x57FA;&#x7C7B;&#x662F;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;</strong>&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x662F;&#x4F7F;&#x7528;&#x5B83;&#x7684;<strong>&#x5B50;&#x7C7B;</strong>&#xFF08;&#x540D;&#x5B57;&#x5305;&#x542B;&#x94FE;&#x63A5;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x8DF3;&#x5230;ios Developer library&#xFF0C;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF09;&#xFF1A;</p>
<ul>
<li><code>[UITapGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UITapGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UITapGestureRecognizer)</code></li>
<li><code>[UIPinchGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UIPinchGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UIPinchGestureRecognizer)</code></li>
<li><code>[UIRotationGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UIRotateGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UIRotationGestureRecognizer)</code></li>
<li><code>[UISwipeGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UISwipeGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UISwipeGestureRecognizer)</code></li>
<li><code>[UIPanGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UIPanGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UIPanGestureRecognizer)</code></li>
<li><code>[UILongPressGestureRecognizer](http://developer.apple.com/library/ios/documentation/uikit/reference/UILongPressGestureRecognizer_Class/Reference/Reference.html#//apple_ref/occ/cl/UILongPressGestureRecognizer)</code><br><strong>&#x4ECE;&#x540D;&#x5B57;&#x4E0A;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x77E5;&#x9053;&#xFF0C;</strong> Tap&#xFF08;&#x70B9;&#x51FB;&#xFF09;&#x3001;Pinch&#xFF08;&#x634F;&#x5408;&#xFF09;&#x3001;Rotation&#xFF08;&#x65CB;&#x8F6C;&#xFF09;&#x3001;Swipe&#xFF08;&#x6ED1;&#x52A8;&#xFF0C;&#x5FEB;&#x901F;&#x79FB;&#x52A8;&#xFF0C;&#x662F;&#x7528;&#x4E8E;&#x76D1;&#x6D4B;&#x6ED1;&#x52A8;&#x7684;&#x65B9;&#x5411;&#x7684;&#xFF09;&#x3001;Pan &#xFF08;&#x62D6;&#x79FB;&#xFF0C;&#x6162;&#x901F;&#x79FB;&#x52A8;&#xFF0C;&#x662F;&#x7528;&#x4E8E;&#x76D1;&#x6D4B;&#x504F;&#x79FB;&#x7684;&#x91CF;&#x7684;&#xFF09;&#x4EE5;&#x53CA; LongPress&#xFF08;&#x957F;&#x6309;&#xFF09;&#x3002;</li>
</ul>
<p>&#x6240;&#x6709;&#x7684;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#x90FD;&#x7EE7;&#x627F;&#x4E8E;UIGestureRecognizer&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x672C;&#x8EAB;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x8FD9;&#x51E0;&#x79CD;&#x624B;&#x52BF;&#x5171;&#x6709;&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;(&#x4E0B;&#x8868;&#x4EC5;&#x5217;&#x51FA;&#x5E38;&#x7528;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;)&#xFF1A;</p>
<pre class="lang:objc decode:true ">// &#x5C5E;&#x6027;     
@property(nonatomic,readonly) UIGestureRecognizerState state;
// &#x624B;&#x52BF;&#x72B6;&#x6001;
@property(nonatomic, getter=isEnabled) BOOL enabled;
// &#x624B;&#x52BF;&#x662F;&#x5426;&#x53EF;&#x7528;
@property(nonatomic,readonly) UIView *view;
// &#x89E6;&#x53D1;&#x624B;&#x52BF;&#x7684;&#x89C6;&#x56FE;&#xFF08;&#x4E00;&#x822C;&#x5728;&#x89E6;&#x6478;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6B64;&#x5C5E;&#x6027;&#x83B7;&#x5F97;&#x89E6;&#x6478;&#x89C6;&#x56FE;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF09;
@property(nonatomic) BOOL delaysTouchesBegan;
//&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5931;&#x8D25;&#x524D;&#x4E0D;&#x6267;&#x884C;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#x4E8B;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;NO&#xFF1B;&#x5982;&#x679C;&#x4E3A;YES&#xFF0C;&#x90A3;&#x4E48;&#x6210;&#x529F;&#x8BC6;&#x522B;&#x5219;&#x4E0D;&#x6267;&#x884C;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#x4E8B;&#x4EF6;&#xFF0C;&#x5931;&#x8D25;&#x5219;&#x6267;&#x884C;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#x4E8B;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x4E3A;NO&#xFF0C;&#x5219;&#x4E0D;&#x7BA1;&#x6210;&#x529F;&#x4E0E;&#x5426;&#x90FD;&#x6267;&#x884C;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#x4E8B;&#x4EF6;&#xFF1B;

// &#x65B9;&#x6CD5;     
- (void)addTarget:(id)target action:(SEL)action;
// &#x6DFB;&#x52A0;&#x89E6;&#x6478;&#x6267;&#x884C;&#x4E8B;&#x4EF6;
- (void)removeTarget:(id)target action:(SEL)action;
// &#x79FB;&#x9664;&#x89E6;&#x6478;&#x6267;&#x884C;&#x4E8B;&#x4EF6;
- (NSUInteger)numberOfTouches;
// &#x89E6;&#x6478;&#x70B9;&#x7684;&#x4E2A;&#x6570;&#xFF08;&#x540C;&#x65F6;&#x89E6;&#x6478;&#x7684;&#x624B;&#x6307;&#x6570;&#xFF09;
- (CGPoint)locationInView:(UIView*)view;
// &#x5728;&#x6307;&#x5B9A;&#x89C6;&#x56FE;&#x4E2D;&#x7684;&#x76F8;&#x5BF9;&#x4F4D;&#x7F6E;
- (CGPoint)locationOfTouch:(NSUInteger)touchIndex inView:(UIView*)view;
// &#x89E6;&#x6478;&#x70B9;&#x76F8;&#x5BF9;&#x4E8E;&#x6307;&#x5B9A;&#x89C6;&#x56FE;&#x7684;&#x4F4D;&#x7F6E;
- (void)requireGestureRecognizerToFail:(UIGestureRecognizer *)otherGestureRecognizer;
// &#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x624B;&#x52BF;&#x9700;&#x8981;&#x53E6;&#x4E00;&#x4E2A;&#x624B;&#x52BF;&#x6267;&#x884C;&#x5931;&#x8D25;&#x624D;&#x4F1A;&#x6267;&#x884C;
&#x4EE3;&#x7406;&#x65B9;&#x6CD5;     
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer;
// &#x4E00;&#x4E2A;&#x63A7;&#x4EF6;&#x7684;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x540E;&#x662F;&#x5426;&#x963B;&#x65AD;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;NO&#xFF1B;&#x5982;&#x679C;&#x4E3A;YES&#xFF0C;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x4E0A;&#x5C42;&#x5BF9;&#x8C61;&#x89E6;&#x53D1;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x4E0B;&#x5C42;&#x5BF9;&#x8C61;&#x4E5F;&#x6DFB;&#x52A0;&#x4E86;&#x624B;&#x52BF;&#x5E76;&#x6210;&#x529F;&#x8BC6;&#x522B;&#x4E5F;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x5426;&#x5219;&#x4E0A;&#x5C42;&#x5BF9;&#x8C61;&#x8BC6;&#x522B;&#x540E;&#x5219;&#x4E0D;&#x518D;&#x7EE7;&#x7EED;&#x4F20;&#x64AD;&#xFF1B;</pre>
&#xA0;

### &#x624B;&#x52BF;&#x72B6;&#x6001;

&#x8FD9;&#x91CC;&#x7740;&#x91CD;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x4E0A;&#x8868;&#x4E2D;&#x624B;&#x52BF;&#x72B6;&#x6001;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x5728;&#x516D;&#x79CD;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x624B;&#x52BF;&#x662F;&#x79BB;&#x6563;&#x624B;&#x52BF;&#xFF0C;&#x5B83;&#x5C31;&#x662F;UITapGestureRecgnier&#x3002;&#x79BB;&#x6563;&#x624B;&#x52BF;&#x7684;&#x7279;&#x70B9;&#x5C31;&#x662F;&#x4E00;&#x65E6;&#x8BC6;&#x522B;&#x5C31;&#x65E0;&#x6CD5;&#x53D6;&#x6D88;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x4F1A;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#xFF08;&#x521D;&#x59CB;&#x5316;&#x624B;&#x52BF;&#x65F6;&#x6307;&#x5B9A;&#x7684;&#x89E6;&#x53D1;&#x65B9;&#x6CD5;&#xFF09;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#x5176;&#x4ED6;&#x4E94;&#x79CD;&#x624B;&#x52BF;&#x662F;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#xFF0C;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x7684;&#x7279;&#x70B9;&#x5C31;&#x662F;&#x4F1A;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#xFF0C;&#x800C;&#x4E14;&#x5728;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x540E;&#x53EF;&#x4EE5;&#x53D6;&#x6D88;&#x624B;&#x52BF;&#x3002;&#x4ECE;&#x4E0B;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x4E24;&#x8005;&#x8C03;&#x7528;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x7684;&#x6B21;&#x6570;&#x662F;&#x4E0D;&#x540C;&#x7684;&#xFF1A;

[![020632352825948](http://birdmichael.com/wp-content/uploads/2015/07/020632352825948.png)](http://birdmichael.com/wp-content/uploads/2015/07/020632352825948.png)

&#x5B98;&#x65B9;&#x6587;&#x6863;:&#x5C5E;&#x6027;,&#x65B9;&#x6CD5;&#x4EE5;&#x53CA;&#x4EE3;&#x7406;
<pre class="lang:objc decode:true">#import &lt;Foundation/Foundation.h&gt;
#import &lt;CoreGraphics/CoreGraphics.h&gt;
#import &lt;UIKit/UIKitDefines.h&gt;

@protocol UIGestureRecognizerDelegate;
@class UIView, UIEvent, UITouch;

typedef NS_ENUM(NSInteger, UIGestureRecognizerState) {
    UIGestureRecognizerStatePossible,   // the recognizer has not yet recognized its gesture, but may be evaluating touch events. this is the default state

    UIGestureRecognizerStateBegan,      // the recognizer has received touches recognized as the gesture. the action method will be called at the next turn of the run loop
    UIGestureRecognizerStateChanged,    // the recognizer has received touches recognized as a change to the gesture. the action method will be called at the next turn of the run loop
    UIGestureRecognizerStateEnded,      // the recognizer has received touches recognized as the end of the gesture. the action method will be called at the next turn of the run loop and the recognizer will be reset to UIGestureRecognizerStatePossible
    UIGestureRecognizerStateCancelled,  // the recognizer has received touches resulting in the cancellation of the gesture. the action method will be called at the next turn of the run loop. the recognizer will be reset to UIGestureRecognizerStatePossible

    UIGestureRecognizerStateFailed,     // the recognizer has received a touch sequence that can not be recognized as the gesture. the action method will not be called and the recognizer will be reset to UIGestureRecognizerStatePossible

    // Discrete Gestures &#x2013; gesture recognizers that recognize a discrete event but do not report changes (for example, a tap) do not transition through the Began and Changed states and can not fail or be cancelled
    UIGestureRecognizerStateRecognized = UIGestureRecognizerStateEnded // the recognizer has received touches recognized as the gesture. the action method will be called at the next turn of the run loop and the recognizer will be reset to UIGestureRecognizerStatePossible
};

NS_CLASS_AVAILABLE_IOS(3_2) @interface UIGestureRecognizer : NSObject

// Valid action method signatures:
//     -(void)handleGesture;
//     -(void)handleGesture:(UIGestureRecognizer*)gestureRecognizer;
- (instancetype)initWithTarget:(id)target action:(SEL)action; // designated initializer

- (void)addTarget:(id)target action:(SEL)action;    // add a target/action pair. you can call this multiple times to specify multiple target/actions
- (void)removeTarget:(id)target action:(SEL)action; // remove the specified target/action pair. passing nil for target matches all targets, and the same for actions

@property(nonatomic,readonly) UIGestureRecognizerState state;  // the current state of the gesture recognizer

@property(nonatomic,assign) id &lt;UIGestureRecognizerDelegate&gt; delegate; // the gesture recognizer&apos;s delegate

@property(nonatomic, getter=isEnabled) BOOL enabled;  // default is YES. disabled gesture recognizers will not receive touches. when changed to NO the gesture recognizer will be cancelled if it&apos;s currently recognizing a gesture

// a UIGestureRecognizer receives touches hit-tested to its view and any of that view&apos;s subviews
@property(nonatomic,readonly) UIView *view;           // the view the gesture is attached to. set by adding the recognizer to a UIView using the addGestureRecognizer: method

@property(nonatomic) BOOL cancelsTouchesInView;       // default is YES. causes touchesCancelled:withEvent: to be sent to the view for all touches recognized as part of this gesture immediately before the action method is called
@property(nonatomic) BOOL delaysTouchesBegan;         // default is NO.  causes all touch events to be delivered to the target view only after this gesture has failed recognition. set to YES to prevent views from processing any touches that may be recognized as part of this gesture
@property(nonatomic) BOOL delaysTouchesEnded;         // default is YES. causes touchesEnded events to be delivered to the target view only after this gesture has failed recognition. this ensures that a touch that is part of the gesture can be cancelled if the gesture is recognized

// create a relationship with another gesture recognizer that will prevent this gesture&apos;s actions from being called until otherGestureRecognizer transitions to UIGestureRecognizerStateFailed
// if otherGestureRecognizer transitions to UIGestureRecognizerStateRecognized or UIGestureRecognizerStateBegan then this recognizer will instead transition to UIGestureRecognizerStateFailed
// example usage: a single tap may require a double tap to fail
- (void)requireGestureRecognizerToFail:(UIGestureRecognizer *)otherGestureRecognizer;

// individual UIGestureRecognizer subclasses may provide subclass-specific location information. see individual subclasses for details
- (CGPoint)locationInView:(UIView*)view;                                // a generic single-point location for the gesture. usually the centroid of the touches involved

- (NSUInteger)numberOfTouches;                                          // number of touches involved for which locations can be queried
- (CGPoint)locationOfTouch:(NSUInteger)touchIndex inView:(UIView*)view; // the location of a particular touch

@end

@protocol UIGestureRecognizerDelegate &lt;NSObject&gt;
@optional
// called when a gesture recognizer attempts to transition out of UIGestureRecognizerStatePossible. returning NO causes it to transition to UIGestureRecognizerStateFailed
- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer;

// called when the recognition of one of gestureRecognizer or otherGestureRecognizer would be blocked by the other
// return YES to allow both to recognize simultaneously. the default implementation returns NO (by default no two gestures can be recognized simultaneously)
//
// note: returning YES is guaranteed to allow simultaneous recognition. returning NO is not guaranteed to prevent simultaneous recognition, as the other gesture&apos;s delegate may return YES
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer;

// called once per attempt to recognize, so failure requirements can be determined lazily and may be set up between recognizers across view hierarchies
// return YES to set up a dynamic failure requirement between gestureRecognizer and otherGestureRecognizer
//
// note: returning YES is guaranteed to set up the failure requirement. returning NO does not guarantee that there will not be a failure requirement as the other gesture&apos;s counterpart delegate or subclass methods may return YES
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRequireFailureOfGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer NS_AVAILABLE_IOS(7_0);
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldBeRequiredToFailByGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer NS_AVAILABLE_IOS(7_0);

// called before touchesBegan:withEvent: is called on the gesture recognizer for a new touch. return NO to prevent the gesture recognizer from seeing this touch
- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch;
</pre>
&#x5176;&#x4E2D;&#x624B;&#x52BF;&#x72B6;&#x6001;&#x5206;&#x4E3A;&#x5982;&#x4E0B;&#x51E0;&#x79CD;&#xFF1A;
<pre class="code">typedef NS_ENUM(NSInteger, UIGestureRecognizerState) {
    UIGestureRecognizerStatePossible,   // &#x5C1A;&#x672A;&#x8BC6;&#x522B;&#x662F;&#x4F55;&#x79CD;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#xFF08;&#x4F46;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x89E6;&#x53D1;&#x4E86;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;

    UIGestureRecognizerStateBegan,      // &#x624B;&#x52BF;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#xFF0C;&#x6B64;&#x65F6;&#x5DF2;&#x7ECF;&#x88AB;&#x8BC6;&#x522B;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#x5C1A;&#x672A;&#x5B8C;&#x6210;
    UIGestureRecognizerStateChanged,    // &#x624B;&#x52BF;&#x72B6;&#x6001;&#x53D1;&#x751F;&#x8F6C;&#x53D8;
    UIGestureRecognizerStateEnded,      // &#x624B;&#x52BF;&#x8BC6;&#x522B;&#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#xFF08;&#x6B64;&#x65F6;&#x5DF2;&#x7ECF;&#x677E;&#x5F00;&#x624B;&#x6307;&#xFF09;
    UIGestureRecognizerStateCancelled,  // &#x624B;&#x52BF;&#x88AB;&#x53D6;&#x6D88;&#xFF0C;&#x6062;&#x590D;&#x5230;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;

    UIGestureRecognizerStateFailed,     // &#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5931;&#x8D25;&#xFF0C;&#x6062;&#x590D;&#x5230;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;

    UIGestureRecognizerStateRecognized = UIGestureRecognizerStateEnded // &#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5B8C;&#x6210;&#xFF0C;&#x540C;UIGestureRecognizerStateEnded
};</pre>

<ul>
<li>&#x5BF9;&#x4E8E;&#x79BB;&#x6563;&#x578B;&#x624B;&#x52BF;UITapGestureRecgnizer&#x8981;&#x4E48;&#x88AB;&#x8BC6;&#x522B;&#xFF0C;&#x8981;&#x4E48;&#x5931;&#x8D25;&#xFF0C;&#x70B9;&#x6309;&#xFF08;&#x5047;&#x8BBE;&#x70B9;&#x6309;&#x6B21;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#x957F;&#x6309;&#x624B;&#x52BF;&#xFF09;&#x4E0B;&#x53BB;&#x4E00;&#x6B21;&#x4E0D;&#x677E;&#x5F00;&#x5219;&#x6B64;&#x65F6;&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#xFF0C;&#x677E;&#x5F00;&#x624B;&#x6307;&#x7ACB;&#x5373;&#x8BC6;&#x522B;&#x5E76;&#x8C03;&#x7528;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x72B6;&#x6001;&#x4E3A;3&#xFF08;&#x5DF2;&#x5B8C;&#x6210;&#xFF09;&#x3002;</li>
<li>&#x4F46;&#x662F;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x8981;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#xFF0C;&#x5C31;&#x62FF;&#x65CB;&#x8F6C;&#x624B;&#x52BF;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x624B;&#x6307;&#x70B9;&#x4E0B;&#x53BB;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#xFF0C;&#x6B64;&#x65F6;&#x5E76;&#x4E0D;&#x80FD;&#x8BC6;&#x522B;&#x624B;&#x52BF;&#xFF08;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8FD8;&#x6CA1;&#x65CB;&#x8F6C;&#xFF09;&#x4F46;&#x662F;&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x89E6;&#x53D1;&#x4E86;&#x89E6;&#x6478;&#x5F00;&#x59CB;&#x4E8B;&#x4EF6;&#xFF0C;&#x6B64;&#x65F6;&#x5904;&#x4E8E;&#x72B6;&#x6001;0&#xFF1B;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x65CB;&#x8F6C;&#x4F1A;&#x88AB;&#x8BC6;&#x522B;&#xFF0C;&#x4E5F;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x5BF9;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x72B6;&#x6001;&#x53D8;&#x6210;1&#xFF08;&#x624B;&#x52BF;&#x5F00;&#x59CB;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x72B6;&#x6001;1&#x53EA;&#x6709;&#x4E00;&#x77AC;&#x95F4;&#xFF1B;&#x7D27;&#x63A5;&#x7740;&#x72B6;&#x6001;&#x53D8;&#x4E3A;2&#xFF08;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x65CB;&#x8F6C;&#x9700;&#x8981;&#x6301;&#x7EED;&#x4E00;&#x4F1A;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x91CD;&#x590D;&#x8C03;&#x7528;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#xFF08;&#x5982;&#x679C;&#x5728;&#x4E8B;&#x4EF6;&#x4E2D;&#x6253;&#x5370;&#x72B6;&#x6001;&#x4F1A;&#x91CD;&#x590D;&#x6253;&#x5370;2&#xFF09;&#xFF1B;&#x677E;&#x5F00;&#x624B;&#x6307;&#xFF0C;&#x6B64;&#x65F6;&#x72B6;&#x6001;&#x53D8;&#x4E3A;3&#xFF0C;&#x5E76;&#x8C03;&#x7528;1&#x6B21;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x3002;<br>&#x4E3A;&#x4E86;&#x5927;&#x5BB6;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x4E0D;&#x59A8;&#x5728;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x4E2D;&#x6253;&#x5370;&#x4E8B;&#x4EF6;&#x72B6;&#x6001;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x5728;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x72B6;&#x6001;&#x6C38;&#x8FDC;&#x4E0D;&#x53EF;&#x80FD;&#x4E3A;0&#xFF08;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#xFF09;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x8981;&#x8C03;&#x7528;&#x6B64;&#x4E8B;&#x4EF6;&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x88AB;&#x8BC6;&#x522B;&#x4E86;&#x3002;&#x524D;&#x9762;&#x4E5F;&#x8BF4;&#x8FC7;&#xFF0C;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x4ECE;&#x6839;&#x672C;&#x8FD8;&#x662F;&#x8C03;&#x7528;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x800C;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x4E4B;&#x6240;&#x4EE5;&#x4F1A;&#x53D1;&#x751F;&#x72B6;&#x6001;&#x8F6C;&#x6362;&#x5B8C;&#x5168;&#x662F;&#x7531;&#x4E8E;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x4E2D;&#x7684;&#x79FB;&#x52A8;&#x4E8B;&#x4EF6;&#x9020;&#x6210;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x79FB;&#x52A8;&#x4E8B;&#x4EF6;&#x4E5F;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x72B6;&#x6001;&#x53D8;&#x5316;&#x3002;</li>
</ul>
<p>&#x5927;&#x5BB6;&#x901A;&#x8FC7;&#x82F9;&#x679C;&#x5B98;&#x65B9;&#x7684;&#x5206;&#x6790;&#x56FE;&#x518D;&#x7406;&#x89E3;&#x4E00;&#x4E0B;&#x4E0A;&#x9762;&#x8BF4;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<p><a href="http://birdmichael.com/wp-content/uploads/2015/07/020632363914977.png" target="_blank" rel="external"><img src="http://birdmichael.com/wp-content/uploads/2015/07/020632363914977.png" alt="020632363914977"></a></p>
<h3 id="&#x4F7F;&#x7528;&#x624B;&#x52BF;"><a href="#&#x4F7F;&#x7528;&#x624B;&#x52BF;" class="headerlink" title="&#x4F7F;&#x7528;&#x624B;&#x52BF;"></a>&#x4F7F;&#x7528;&#x624B;&#x52BF;</h3><pre class="lang:objc decode:true">// &#x521B;&#x5EFA;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5668;&#x5BF9;&#x8C61;
UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] init];
// &#x8BBE;&#x7F6E;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5668;&#x5BF9;&#x8C61;&#x7684;&#x5177;&#x4F53;&#x5C5E;&#x6027;
// &#x8FDE;&#x7EED;&#x6572;&#x51FB;2&#x6B21;
tap.numberOfTapsRequired = 2;
// &#x9700;&#x8981;2&#x6839;&#x624B;&#x6307;&#x4E00;&#x8D77;&#x6572;&#x51FB;
tap.numberOfTouchesRequired = 2;
// &#x6DFB;&#x52A0;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5668;&#x5230;&#x5BF9;&#x5E94;&#x7684;view&#x4E0A;
[self.iconView addGestureRecognizer:tap];
// &#x76D1;&#x542C;&#x624B;&#x52BF;&#x7684;&#x89E6;&#x53D1;
[tap addTarget:self action:@selector(tapIconView:)];
</pre>
&gt; &#x6BCF;&#x4E2A;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5668;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5DEE;&#x4E0D;&#x591A;,&#x4E3B;&#x8981;&#x662F;&#x4FEE;&#x6539;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5668;&#x5BF9;&#x8C61;&#x7684;&#x5177;&#x4F53;&#x5C5E;&#x6027;.
&gt; 
&gt; 
&gt; 1&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684;&#x624B;&#x52BF;&#x5BF9;&#x8C61;&#xFF1B;
&gt; 
&gt; 
&gt; 2&#x8BBE;&#x7F6E;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x5C5E;&#x6027;&#x3010;&#x53EF;&#x9009;&#x3011;&#xFF1B;
&gt; 
&gt; 
&gt; 3&#x9644;&#x52A0;&#x624B;&#x52BF;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#xFF1B;
&gt; 
&gt; 
&gt; 4&#x7F16;&#x5199;&#x624B;&#x52BF;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#xFF1B;
&#xA0;

&#x4E3A;&#x4E86;&#x5E2E;&#x52A9;&#x5927;&#x5BB6;&#x7406;&#x89E3;&#xFF0C;&#x4E0B;&#x9762;&#x4EE5;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#x67E5;&#x770B;&#x7A0B;&#x5E8F;&#x6F14;&#x793A;&#x4E00;&#x4E0B;&#x4E0A;&#x9762;&#x51E0;&#x79CD;&#x624B;&#x52BF;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;&#xFF1A;

&#x5982;&#x679C;&#x70B9;&#x6309;&#x56FE;&#x7247;&#x4F1A;&#x5728;&#x5BFC;&#x822A;&#x680F;&#x663E;&#x793A;&#x56FE;&#x7247;&#x540D;&#x79F0;&#xFF1B;

&#x5982;&#x679C;&#x957F;&#x6309;&#x56FE;&#x7247;&#x4F1A;&#x663E;&#x793A;&#x5220;&#x9664;&#x6309;&#x94AE;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x662F;&#x5426;&#x5220;&#x9664;&#xFF1B;

&#x5982;&#x679C;&#x634F;&#x5408;&#x4F1A;&#x653E;&#x5927;&#x3001;&#x7F29;&#x5C0F;&#x56FE;&#x7247;&#xFF1B;

&#x5982;&#x679C;&#x8F7B;&#x626B;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x4E0B;&#x4E00;&#x5F20;&#x6216;&#x4E0A;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#xFF1B;

&#x5982;&#x679C;&#x65CB;&#x8F6C;&#x4F1A;&#x65CB;&#x8F6C;&#x56FE;&#x7247;&#xFF1B;

&#x5982;&#x679C;&#x62D6;&#x52A8;&#x4F1A;&#x79FB;&#x52A8;&#x56FE;&#x7247;&#xFF1B;

&#x4E3A;&#x4E86;&#x663E;&#x793A;&#x5BFC;&#x822A;&#x6761;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x5C06;&#x4E3B;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;BMPhotoViewController&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x5BFC;&#x822A;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E3B;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x653E;&#x4E00;&#x4E2A;UIImage&#x7528;&#x4E8E;&#x5C55;&#x793A;&#x56FE;&#x7247;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E3B;&#x8981;&#x4EE3;&#x7801;&#xFF1A;
<pre class="code">#import &quot;BMPhotoViewController.h&quot;
#define kImageCount 3

@interface BMPhotoViewController (){
    UIImageView *_imageView;//&#x56FE;&#x7247;&#x5C55;&#x793A;&#x63A7;&#x4EF6;
    int _currentIndex;//&#x5F53;&#x524D;&#x56FE;&#x7247;&#x7D22;&#x5F15;
}

@end

@implementation KCPhotoViewController

- (void)viewDidLoad {
    [super viewDidLoad];

    [self initLayout];

    [self addGesture];
}

#pragma mark &#x5E03;&#x5C40;
-(void)initLayout{
    /*&#x6DFB;&#x52A0;&#x56FE;&#x7247;&#x5C55;&#x793A;&#x63A7;&#x4EF6;*/
    CGSize screenSize=[UIScreen mainScreen].applicationFrame.size;
    CGFloat topPadding=20;
    CGFloat y=22+44+topPadding,height=screenSize.height-y-topPadding;

    CGRect imageFrame=CGRectMake(0, y, screenSize.width, height);
    _imageView=[[UIImageView alloc]initWithFrame:imageFrame];
    _imageView.contentMode=UIViewContentModeScaleToFill;//&#x8BBE;&#x7F6E;&#x5185;&#x5BB9;&#x6A21;&#x5F0F;&#x4E3A;&#x7F29;&#x653E;&#x586B;&#x5145;
    _imageView.userInteractionEnabled=YES;//&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x4E3A;YES&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x63A5;&#x6536;&#x624B;&#x52BF;&#x64CD;&#x4F5C;
    [self.view addSubview:_imageView];

    //&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x56FE;&#x7247;
    UIImage *image=[UIImage imageNamed:@&quot;0.jpg&quot;];
    _imageView.image=image;
    [self showPhotoName];

}

#pragma mark &#x6DFB;&#x52A0;&#x624B;&#x52BF;
-(void)addGesture{
    /*&#x6DFB;&#x52A0;&#x70B9;&#x6309;&#x624B;&#x52BF;*/
    //&#x521B;&#x5EFA;&#x624B;&#x52BF;&#x5BF9;&#x8C61;
    UITapGestureRecognizer *tapGesture=[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapImage:)];
    //&#x8BBE;&#x7F6E;&#x624B;&#x52BF;&#x5C5E;&#x6027;
    tapGesture.numberOfTapsRequired=1;//&#x8BBE;&#x7F6E;&#x70B9;&#x6309;&#x6B21;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x6CE8;&#x610F;&#x5728;iOS&#x4E2D;&#x5F88;&#x5C11;&#x7528;&#x53CC;&#x51FB;&#x64CD;&#x4F5C;
    tapGesture.numberOfTouchesRequired=1;//&#x70B9;&#x6309;&#x7684;&#x624B;&#x6307;&#x6570;
    //&#x6DFB;&#x52A0;&#x624B;&#x52BF;&#x5230;&#x5BF9;&#x8C61;(&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x6DFB;&#x52A0;&#x5230;&#x4E86;&#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FE;&#x7247;&#x4E0A;&#xFF0C;&#x5426;&#x5219;&#x70B9;&#x51FB;&#x7A7A;&#x767D;&#x65E0;&#x6CD5;&#x9690;&#x85CF;&#x5BFC;&#x822A;&#x680F;)
    [self.view addGestureRecognizer:tapGesture];

    /*&#x6DFB;&#x52A0;&#x957F;&#x6309;&#x624B;&#x52BF;*/
    UILongPressGestureRecognizer *longPressGesture=[[UILongPressGestureRecognizer alloc]initWithTarget:self action:@selector(longPressImage:)];
    longPressGesture.minimumPressDuration=0.5;//&#x8BBE;&#x7F6E;&#x957F;&#x6309;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;0.5&#x79D2;&#xFF0C;&#x4E00;&#x822C;&#x8FD9;&#x4E2A;&#x503C;&#x4E0D;&#x8981;&#x4FEE;&#x6539;
    //&#x6CE8;&#x610F;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x8981;&#x505A;&#x957F;&#x6309;&#x63D0;&#x793A;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x624B;&#x52BF;&#x4E0D;&#x518D;&#x6DFB;&#x52A0;&#x5230;&#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x4E0A;&#x800C;&#x662F;&#x6DFB;&#x52A0;&#x5230;&#x4E86;&#x56FE;&#x7247;&#x4E0A;
    [_imageView addGestureRecognizer:longPressGesture];

    /*&#x6DFB;&#x52A0;&#x634F;&#x5408;&#x624B;&#x52BF;*/
    UIPinchGestureRecognizer *pinchGesture=[[UIPinchGestureRecognizer alloc]initWithTarget:self action:@selector(pinchImage:)];
    [self.view addGestureRecognizer:pinchGesture];

    /*&#x6DFB;&#x52A0;&#x65CB;&#x8F6C;&#x624B;&#x52BF;*/
    UIRotationGestureRecognizer *rotationGesture=[[UIRotationGestureRecognizer alloc]initWithTarget:self action:@selector(rotateImage:)];
    [self.view addGestureRecognizer:rotationGesture];

    /*&#x6DFB;&#x52A0;&#x62D6;&#x52A8;&#x624B;&#x52BF;*/
    UIPanGestureRecognizer *panGesture=[[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(panImage:)];
    [_imageView addGestureRecognizer:panGesture];

    /*&#x6DFB;&#x52A0;&#x8F7B;&#x626B;&#x624B;&#x52BF;*/
    //&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x53EA;&#x80FD;&#x63A7;&#x5236;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#xFF0C;&#x9ED8;&#x8BA4;&#x5411;&#x53F3;&#xFF0C;&#x901A;&#x8FC7;direction&#x8FDB;&#x884C;&#x65B9;&#x5411;&#x63A7;&#x5236;
    UISwipeGestureRecognizer *swipeGestureToRight=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(swipeImage:)];
    //swipeGestureToRight.direction=UISwipeGestureRecognizerDirectionRight;//&#x9ED8;&#x8BA4;&#x4E3A;&#x5411;&#x53F3;&#x8F7B;&#x626B;
    [self.view addGestureRecognizer:swipeGestureToRight];

    UISwipeGestureRecognizer *swipeGestureToLeft=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(swipeImage:)];
    swipeGestureToLeft.direction=UISwipeGestureRecognizerDirectionLeft;
    [self.view addGestureRecognizer:swipeGestureToLeft];

}

#pragma mark &#x663E;&#x793A;&#x56FE;&#x7247;&#x540D;&#x79F0;
-(void)showPhotoName{
    NSString *title=[NSString stringWithFormat:@&quot;%i.jpg&quot;,_currentIndex];
    [self setTitle:title];
}

#pragma mark &#x4E0B;&#x4E00;&#x5F20;&#x56FE;&#x7247;
-(void)nextImage{
    int index=(_currentIndex+kImageCount+1)%kImageCount;
    NSString *imageName=[NSString stringWithFormat:@&quot;%i.jpg&quot;,index];
    _imageView.image=[UIImage imageNamed:imageName];
    _currentIndex=index;
    [self showPhotoName];
}

#pragma mark &#x4E0A;&#x4E00;&#x5F20;&#x56FE;&#x7247;
-(void)lastImage{
    int index=(_currentIndex+kImageCount-1)%kImageCount;
    NSString *imageName=[NSString stringWithFormat:@&quot;%i.jpg&quot;,index];
    _imageView.image=[UIImage imageNamed:imageName];
    _currentIndex=index;
    [self showPhotoName];
}

#pragma mark - &#x624B;&#x52BF;&#x64CD;&#x4F5C;
#pragma mark &#x70B9;&#x6309;&#x9690;&#x85CF;&#x6216;&#x663E;&#x793A;&#x5BFC;&#x822A;&#x680F;
-(void)tapImage:(UITapGestureRecognizer *)gesture{
    //NSLog(@&quot;tap:%i&quot;,gesture.state);
    BOOL hidden=!self.navigationController.navigationBarHidden;
    [self.navigationController setNavigationBarHidden:hidden animated:YES];
}

#pragma mark &#x957F;&#x6309;&#x63D0;&#x793A;&#x662F;&#x5426;&#x5220;&#x9664;
-(void)longPressImage:(UILongPressGestureRecognizer *)gesture{
    //NSLog(@&quot;longpress:%i&quot;,gesture.state);
    //&#x6CE8;&#x610F;&#x5176;&#x5B9E;&#x5728;&#x624B;&#x52BF;&#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;view&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x70B9;&#x6309;&#x7684;&#x89C6;&#x56FE;
    //UIImageView *imageView=(UIImageView *)gesture.view;

    //&#x7531;&#x4E8E;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x6B64;&#x65B9;&#x6CD5;&#x4F1A;&#x8C03;&#x7528;&#x591A;&#x6B21;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5224;&#x65AD;&#x5176;&#x624B;&#x52BF;&#x72B6;&#x6001;
    if (gesture.state==UIGestureRecognizerStateBegan) {
        UIActionSheet *actionSheet=[[UIActionSheet alloc]initWithTitle:@&quot;System Info&quot; delegate:nil cancelButtonTitle:@&quot;Cancel&quot; destructiveButtonTitle:@&quot;Delete the photo&quot; otherButtonTitles:nil];
        [actionSheet showInView:self.view];

    }
}

#pragma mark &#x634F;&#x5408;&#x65F6;&#x7F29;&#x653E;&#x56FE;&#x7247;
-(void)pinchImage:(UIPinchGestureRecognizer *)gesture{
    //NSLog(@&quot;pinch:%i&quot;,gesture.state);

    if (gesture.state==UIGestureRecognizerStateChanged) {
        //&#x634F;&#x5408;&#x624B;&#x52BF;&#x4E2D;scale&#x5C5E;&#x6027;&#x8BB0;&#x5F55;&#x7684;&#x7F29;&#x653E;&#x6BD4;&#x4F8B;
        _imageView.transform=CGAffineTransformMakeScale(gesture.scale, gesture.scale);
    }else if(gesture.state==UIGestureRecognizerStateEnded){//&#x7ED3;&#x675F;&#x540E;&#x6062;&#x590D;
        [UIView animateWithDuration:.5 animations:^{
            _imageView.transform=CGAffineTransformIdentity;//&#x53D6;&#x6D88;&#x4E00;&#x5207;&#x5F62;&#x53D8;
        }];
    }
}

#pragma mark &#x65CB;&#x8F6C;&#x56FE;&#x7247;
-(void)rotateImage:(UIRotationGestureRecognizer *)gesture{
    //NSLog(@&quot;rotate:%i&quot;,gesture.state);
    if (gesture.state==UIGestureRecognizerStateChanged) {
        //&#x65CB;&#x8F6C;&#x624B;&#x52BF;&#x4E2D;rotation&#x5C5E;&#x6027;&#x8BB0;&#x5F55;&#x4E86;&#x65CB;&#x8F6C;&#x5F27;&#x5EA6;
        _imageView.transform=CGAffineTransformMakeRotation(gesture.rotation);
    }else if(gesture.state==UIGestureRecognizerStateEnded){
        [UIView animateWithDuration:0.8 animations:^{
            _imageView.transform=CGAffineTransformIdentity;//&#x53D6;&#x6D88;&#x5F62;&#x53D8;
        }];
    }
}

#pragma mark &#x62D6;&#x52A8;&#x56FE;&#x7247;
-(void)panImage:(UIPanGestureRecognizer *)gesture{
    if (gesture.state==UIGestureRecognizerStateChanged) {
        CGPoint translation=[gesture translationInView:self.view];//&#x5229;&#x7528;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x7684;translationInView:&#x65B9;&#x6CD5;&#x53D6;&#x5F97;&#x5728;&#x76F8;&#x5BF9;&#x6307;&#x5B9A;&#x89C6;&#x56FE;&#xFF08;&#x8FD9;&#x91CC;&#x662F;&#x63A7;&#x5236;&#x5668;&#x6839;&#x89C6;&#x56FE;&#xFF09;&#x7684;&#x79FB;&#x52A8;
        _imageView.transform=CGAffineTransformMakeTranslation(translation.x, translation.y);
    }else if(gesture.state==UIGestureRecognizerStateEnded){
        [UIView animateWithDuration:0.5 animations:^{
            _imageView.transform=CGAffineTransformIdentity;
        }];
    }

}

#pragma mark &#x8F7B;&#x626B;&#x5219;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#x6216;&#x4E0A;&#x4E00;&#x5F20;
//&#x6CE8;&#x610F;&#x867D;&#x7136;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x662F;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x5728;&#x8BC6;&#x522B;&#x7ED3;&#x675F;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&#xFF0C;&#x4E0D;&#x7528;&#x5224;&#x65AD;&#x72B6;&#x6001;
-(void)swipeImage:(UISwipeGestureRecognizer *)gesture{
//    NSLog(@&quot;swip:%i&quot;,gesture.state);
//    if (gesture.state==UIGestureRecognizerStateEnded) {

        //direction&#x8BB0;&#x5F55;&#x7684;&#x8F7B;&#x626B;&#x7684;&#x65B9;&#x5411;
        if (gesture.direction==UISwipeGestureRecognizerDirectionRight) {//&#x5411;&#x53F3;
            [self nextImage];
//            NSLog(@&quot;right&quot;);
        }else if(gesture.direction==UISwipeGestureRecognizerDirectionLeft){//&#x5411;&#x5DE6;
//            NSLog(@&quot;left&quot;);
            [self lastImage];
        }
//    }
}

//-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{
//    //NSLog(@&quot;touch begin...&quot;);
//}
@end</pre>
&#x8FD0;&#x884C;&#x6548;&#x679C;:

[![020632495475224](http://birdmichael.com/wp-content/uploads/2015/07/020632495475224.gif)](http://birdmichael.com/wp-content/uploads/2015/07/020632495475224.gif)

&#x5728;&#x4E0A;&#x9762;&#x793A;&#x4F8B;&#x4E2D;&#x9700;&#x8981;&#x5F3A;&#x8C03;&#x51E0;&#x70B9;&#xFF1A;

*   UIImageView&#x9ED8;&#x8BA4;&#x662F;&#x4E0D;&#x652F;&#x6301;&#x4EA4;&#x4E92;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;userInteractionEnabled=NO &#xFF0C;&#x56E0;&#x6B64;&#x8981;&#x63A5;&#x6536;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#xFF08;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#xFF09;&#xFF0C;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;userInteractionEnabled=YES(&#x5728;iOS&#x4E2D;UILabel&#x3001;UIImageView&#x7684;userInteractionEnabled&#x9ED8;&#x8BA4;&#x90FD;&#x662F;NO&#xFF0C;UIButton&#x3001;UITextField&#x3001;UIScrollView&#x3001;UITableView&#x7B49;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;YES)&#x3002;
*   &#x8F7B;&#x626B;&#x624B;&#x52BF;&#x867D;&#x7136;&#x662F;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x53EA;&#x4F1A;&#x5728;&#x8BC6;&#x522B;&#x7ED3;&#x675F;&#x65F6;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x5176;&#x4ED6;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x90FD;&#x4F1A;&#x8C03;&#x7528;&#x591A;&#x6B21;&#xFF0C;&#x4E00;&#x822C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x72B6;&#x6001;&#x5224;&#x65AD;&#xFF1B;&#x6B64;&#x5916;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x652F;&#x6301;&#x56DB;&#x4E2A;&#x65B9;&#x5411;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8981;&#x652F;&#x6301;&#x591A;&#x4E2A;&#x65B9;&#x5411;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x591A;&#x4E2A;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x3002;

## &#x624B;&#x52BF;&#x51B2;&#x7A81;

&#x7EC6;&#x5FC3;&#x7684;&#x7AE5;&#x978B;&#x4F1A;&#x53D1;&#x73B0;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x6F14;&#x793A;&#x6548;&#x679C;&#x56FE;&#x4E2D;&#x5F53;&#x5207;&#x6362;&#x5230;&#x4E0B;&#x4E00;&#x5F20;&#x6216;&#x8005;&#x4E0A;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x65F6;&#x5E76;&#x6CA1;&#x6709;&#x8F7B;&#x626B;&#x56FE;&#x7247;&#x800C;&#x662F;&#x5728;&#x7A7A;&#x767D;&#x5730;&#x65B9;&#x8F7B;&#x626B;&#x5B8C;&#x6210;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x5982;&#x679C;&#x6211;&#x8F7B;&#x626B;&#x56FE;&#x7247;&#x4F1A;&#x5F15;&#x8D77;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x800C;&#x4E0D;&#x662F;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x4E24;&#x79CD;&#x624B;&#x52BF;&#x53D1;&#x751F;&#x4E86;&#x51B2;&#x7A81;&#x3002;

&#x51B2;&#x7A81;&#x7684;&#x539F;&#x56E0;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x7684;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x662F;&#x5728;&#x624B;&#x52BF;&#x7684;&#x5F00;&#x59CB;&#x72B6;&#x6001;&#xFF08;&#x72B6;&#x6001;1&#xFF09;&#x8BC6;&#x522B;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x800C;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x7684;&#x64CD;&#x4F5C;&#x4E8B;&#x4EF6;&#x53EA;&#x6709;&#x5728;&#x624B;&#x52BF;&#x7ED3;&#x675F;&#x72B6;&#x6001;&#xFF08;&#x72B6;&#x6001;3&#xFF09;&#x624D;&#x80FD;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x5C31;&#x4F5C;&#x4E3A;&#x4E86;&#x727A;&#x7272;&#x54C1;&#x6CA1;&#x6709;&#x88AB;&#x6B63;&#x786E;&#x8BC6;&#x522B;&#x3002;&#x6211;&#x4EEC;&#x7406;&#x60F3;&#x7684;&#x60C5;&#x51B5;&#x5F53;&#x7136;&#x662F;&#x5982;&#x679C;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x62D6;&#x52A8;&#x5C31;&#x79FB;&#x52A8;&#x56FE;&#x7247;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x8F7B;&#x626B;&#x5C31;&#x7FFB;&#x52A8;&#x56FE;&#x7247;&#x3002;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x51B2;&#x7A81;&#x5462;&#xFF1F;

&#x5728;iOS&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x624B;&#x52BF;A&#x7684;&#x8BC6;&#x522B;&#x90E8;&#x5206;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x624B;&#x52BF;B&#x7684;&#x5B50;&#x90E8;&#x5206;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;A&#x5C31;&#x4F1A;&#x5148;&#x8BC6;&#x522B;&#xFF0C;B&#x5C31;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x4E86;&#x3002;&#x8981;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x51B2;&#x7A81;&#x53EF;&#x4EE5;&#x5229;&#x7528;**- (void)requireGestureRecognizerToFail:(UIGestureRecognizer *)otherGestureRecognizer;**&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x3002;&#x6B63;&#x662F;&#x524D;&#x9762;&#x8868;&#x683C;&#x4E2D;UIGestureRecognizer&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x67D0;&#x4E2A;&#x624B;&#x52BF;&#x6267;&#x884C;&#x7684;&#x524D;&#x63D0;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x624B;&#x52BF;&#x5931;&#x8D25;&#x624D;&#x4F1A;&#x8BC6;&#x522B;&#x6267;&#x884C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x7684;&#x6267;&#x884C;&#x524D;&#x63D0;&#x4E3A;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x5931;&#x8D25;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x5F53;&#x6211;&#x4EEC;&#x624B;&#x6307;&#x8F7B;&#x8F7B;&#x6ED1;&#x52A8;&#x65F6;&#x7CFB;&#x7EDF;&#x4F1A;&#x4F18;&#x5148;&#x8003;&#x8651;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#xFF0C;&#x5982;&#x679C;&#x6700;&#x540E;&#x53D1;&#x73B0;&#x8BE5;&#x64CD;&#x4F5C;&#x4E0D;&#x662F;&#x8F7B;&#x626B;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x62D6;&#x52A8;&#x3002;&#x53EA;&#x8981;&#x5C06;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x6DFB;&#x52A0;&#x5230;&#x6DFB;&#x52A0;&#x624B;&#x52BF;&#x4E4B;&#x540E;&#x5C31;&#x80FD;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E86;&#xFF08;&#x6CE8;&#x610F;&#x4E3A;&#x4E86;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#x7684;&#x533A;&#x5206;&#x62D6;&#x52A8;&#x548C;&#x8F7B;&#x626B;[&#x6A21;&#x62DF;&#x5668;&#x4E2D;&#x62D6;&#x52A8;&#x7A0D;&#x5FAE;&#x5FEB;&#x4E00;&#x70B9;&#x5C31;&#x8BC6;&#x522B;&#x6210;&#x4E86;&#x8F7B;&#x626B;]&#xFF0C;&#x8FD9;&#x91CC;&#x5C06;&#x957F;&#x6309;&#x624B;&#x52BF;&#x7684;&#x524D;&#x63D0;&#x8BBE;&#x7F6E;&#x4E3A;&#x62D6;&#x52A8;&#x5931;&#x8D25;&#xFF0C;&#x907F;&#x514D;&#x6F14;&#x793A;&#x62D6;&#x52A8;&#x65F6;&#x957F;&#x6309;&#x624B;&#x52BF;&#x4F1A;&#x88AB;&#x8BC6;&#x522B;&#xFF09;&#xFF1A;
<pre class="code">    
    //&#x89E3;&#x51B3;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x6ED1;&#x52A8;&#x65F6;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x548C;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x7684;&#x51B2;&#x7A81;
    [panGesture requireGestureRecognizerToFail:swipeGestureToRight];
    [panGesture requireGestureRecognizerToFail:swipeGestureToLeft];
    //&#x89E3;&#x51B3;&#x62D6;&#x52A8;&#x548C;&#x957F;&#x6309;&#x624B;&#x52BF;&#x4E4B;&#x95F4;&#x7684;&#x51B2;&#x7A81;
    [longPressGesture requireGestureRecognizerToFail:panGesture];</pre>
&#x8FD0;&#x884C;&#x6548;&#x679C;&#xFF1A;

[![GestureRecognizerEffect2](http://images.cnitblog.com/blog/62046/201409/020633016728886.gif &quot;GestureRecognizerEffect2&quot;)](http://images.cnitblog.com/blog/62046/201409/020632580169003.gif)

## &#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x63A7;&#x4EF6;&#x7684;&#x624B;&#x52BF;&#x540C;&#x65F6;&#x6267;&#x884C;

&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5728;iOS&#x7684;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x662F;&#x6839;&#x636E;&#x54CD;&#x5E94;&#x8005;&#x94FE;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x4E0A;&#x5C42;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x6267;&#x884C;&#x540E;&#x5C31;&#x4E0D;&#x518D;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x624B;&#x52BF;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x5148;&#x8BC6;&#x522B;&#x7684;&#x624B;&#x52BF;&#x4F1A;&#x963B;&#x65AD;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#x64CD;&#x4F5C;&#x7EE7;&#x7EED;&#x4F20;&#x64AD;&#x3002;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x8BA9;&#x4E24;&#x4E2A;&#x6709;&#x5C42;&#x6B21;&#x5173;&#x7CFB;&#x5E76;&#x4E14;&#x90FD;&#x6DFB;&#x52A0;&#x4E86;&#x624B;&#x52BF;&#x7684;&#x63A7;&#x4EF6;&#x90FD;&#x80FD;&#x6B63;&#x786E;&#x8BC6;&#x522B;&#x624B;&#x52BF;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x5C31;&#x662F;&#x5229;&#x7528;&#x4EE3;&#x7406;&#x7684;
<pre class="lang:objc decode:true  ">-(BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer</pre>
&#x65B9;&#x6CD5;&#x3002;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE;NO&#xFF0C;&#x4F1A;&#x963B;&#x65AD;&#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x8BC6;&#x522B;&#x624B;&#x52BF;&#xFF0C;&#x5982;&#x679C;&#x8FD4;&#x56DE;YES&#x5219;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#x8BC6;&#x522B;&#x3002;

&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x63A7;&#x5236;&#x6F14;&#x793A;&#x4E86;&#x5F53;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x957F;&#x6309;&#x65F6;&#x540C;&#x65F6;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x7684;&#x957F;&#x6309;&#x624B;&#x52BF;&#xFF08;&#x6CE8;&#x610F;&#x5176;&#x4E2D;&#x6211;&#x4EEC;&#x8FD8;&#x63A7;&#x5236;&#x4E86;&#x53EA;&#x6709;&#x5728;UIImageView&#x4E2D;&#x64CD;&#x4F5C;&#x7684;&#x624B;&#x52BF;&#x624D;&#x80FD;&#x5411;&#x4E0B;&#x4F20;&#x9012;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x63A7;&#x5236;&#x5219;&#x6240;&#x6709;&#x63A7;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x5411;&#x4E0B;&#x4F20;&#x9012;&#xFF09;
<pre class="code">#import &quot;BMPhotoViewController.h&quot;
#define kImageCount 3

@interface BMPhotoViewController ()&lt;UIGestureRecognizerDelegate&gt;{
    UIImageView *_imageView;//&#x56FE;&#x7247;&#x5C55;&#x793A;&#x63A7;&#x4EF6;
    int _currentIndex;//&#x5F53;&#x524D;&#x56FE;&#x7247;&#x7D22;&#x5F15;
}

@end

@implementation KCPhotoViewController

- (void)viewDidLoad {
    [super viewDidLoad];

    [self initLayout];

    [self addGesture];
}

#pragma mark &#x5E03;&#x5C40;
-(void)initLayout{
    /*&#x6DFB;&#x52A0;&#x56FE;&#x7247;&#x5C55;&#x793A;&#x63A7;&#x4EF6;*/
    CGSize screenSize=[UIScreen mainScreen].applicationFrame.size;
    CGFloat topPadding=20;
    CGFloat y=22+44+topPadding,height=screenSize.height-y-topPadding;

    CGRect imageFrame=CGRectMake(0, y, screenSize.width, height);
    _imageView=[[UIImageView alloc]initWithFrame:imageFrame];
    _imageView.contentMode=UIViewContentModeScaleToFill;//&#x8BBE;&#x7F6E;&#x5185;&#x5BB9;&#x6A21;&#x5F0F;&#x4E3A;&#x7F29;&#x653E;&#x586B;&#x5145;
    _imageView.userInteractionEnabled=YES;//&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x4F4D;YES&#xFF0C;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x63A5;&#x6536;&#x624B;&#x52BF;&#x64CD;&#x4F5C;
    //_imageView.multipleTouchEnabled=YES;//&#x652F;&#x6301;&#x591A;&#x70B9;&#x89E6;&#x6478;&#xFF0C;&#x9ED8;&#x8BA4;&#x5C31;&#x662F;YES
    [self.view addSubview:_imageView];

    //&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x56FE;&#x7247;
    UIImage *image=[UIImage imageNamed:@&quot;0.jpg&quot;];
    _imageView.image=image;
    [self showPhotoName];

}

#pragma mark &#x6DFB;&#x52A0;&#x624B;&#x52BF;
-(void)addGesture{
    /*&#x6DFB;&#x52A0;&#x70B9;&#x6309;&#x624B;&#x52BF;*/
    //&#x521B;&#x5EFA;&#x624B;&#x52BF;&#x5BF9;&#x8C61;
    UITapGestureRecognizer *tapGesture=[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tapImage:)];
    //&#x8BBE;&#x7F6E;&#x624B;&#x52BF;&#x5C5E;&#x6027;
    tapGesture.numberOfTapsRequired=1;//&#x8BBE;&#x7F6E;&#x70B9;&#x6309;&#x6B21;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x6CE8;&#x610F;&#x5728;iOS&#x4E2D;&#x5F88;&#x5C11;&#x7528;&#x53CC;&#x51FB;&#x64CD;&#x4F5C;
    tapGesture.numberOfTouchesRequired=1;//&#x70B9;&#x6309;&#x7684;&#x624B;&#x6307;&#x6570;
    //&#x6DFB;&#x52A0;&#x624B;&#x52BF;&#x5230;&#x5BF9;&#x8C61;(&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x6DFB;&#x52A0;&#x5230;&#x4E86;&#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56FE;&#x7247;&#x4E0A;&#xFF0C;&#x5426;&#x5219;&#x70B9;&#x51FB;&#x7A7A;&#x767D;&#x65E0;&#x6CD5;&#x9690;&#x85CF;&#x5BFC;&#x822A;&#x680F;)
    [self.view addGestureRecognizer:tapGesture];

    /*&#x6DFB;&#x52A0;&#x957F;&#x6309;&#x624B;&#x52BF;*/
    UILongPressGestureRecognizer *longPressGesture=[[UILongPressGestureRecognizer alloc]initWithTarget:self action:@selector(longPressImage:)];
    longPressGesture.minimumPressDuration=0.5;//&#x8BBE;&#x7F6E;&#x957F;&#x6309;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;0.5&#x79D2;&#xFF0C;&#x4E00;&#x822C;&#x8FD9;&#x4E2A;&#x503C;&#x4E0D;&#x8981;&#x4FEE;&#x6539;
    //&#x6CE8;&#x610F;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x8981;&#x505A;&#x957F;&#x6309;&#x63D0;&#x793A;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E2A;&#x624B;&#x52BF;&#x4E0D;&#x518D;&#x6DFB;&#x52A0;&#x5230;&#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x4E0A;&#x800C;&#x662F;&#x6DFB;&#x52A0;&#x5230;&#x4E86;&#x56FE;&#x7247;&#x4E0A;
    [_imageView addGestureRecognizer:longPressGesture];

    /*&#x6DFB;&#x52A0;&#x634F;&#x5408;&#x624B;&#x52BF;*/
    UIPinchGestureRecognizer *pinchGesture=[[UIPinchGestureRecognizer alloc]initWithTarget:self action:@selector(pinchImage:)];
    [self.view addGestureRecognizer:pinchGesture];

    /*&#x6DFB;&#x52A0;&#x65CB;&#x8F6C;&#x624B;&#x52BF;*/
    UIRotationGestureRecognizer *rotationGesture=[[UIRotationGestureRecognizer alloc]initWithTarget:self action:@selector(rotateImage:)];
    [self.view addGestureRecognizer:rotationGesture];

    /*&#x6DFB;&#x52A0;&#x62D6;&#x52A8;&#x624B;&#x52BF;*/
    UIPanGestureRecognizer *panGesture=[[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(panImage:)];
    [_imageView addGestureRecognizer:panGesture];

    /*&#x6DFB;&#x52A0;&#x8F7B;&#x626B;&#x624B;&#x52BF;*/
    //&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x53EA;&#x80FD;&#x63A7;&#x5236;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#xFF0C;&#x9ED8;&#x8BA4;&#x5411;&#x53F3;&#xFF0C;&#x901A;&#x8FC7;direction&#x8FDB;&#x884C;&#x65B9;&#x5411;&#x63A7;&#x5236;
    UISwipeGestureRecognizer *swipeGestureToRight=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(swipeImage:)];
    //swipeGestureToRight.direction=UISwipeGestureRecognizerDirectionRight;//&#x9ED8;&#x8BA4;&#x4F4D;&#x5411;&#x53F3;&#x8F7B;&#x626B;
    [self.view addGestureRecognizer:swipeGestureToRight];

    UISwipeGestureRecognizer *swipeGestureToLeft=[[UISwipeGestureRecognizer alloc]initWithTarget:self action:@selector(swipeImage:)];
    swipeGestureToLeft.direction=UISwipeGestureRecognizerDirectionLeft;
    [self.view addGestureRecognizer:swipeGestureToLeft];

    //&#x89E3;&#x51B3;&#x5728;&#x56FE;&#x7247;&#x4E0A;&#x6ED1;&#x52A8;&#x65F6;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x548C;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x7684;&#x51B2;&#x7A81;
    [panGesture requireGestureRecognizerToFail:swipeGestureToRight];
    [panGesture requireGestureRecognizerToFail:swipeGestureToLeft];
    //&#x89E3;&#x51B3;&#x62D6;&#x52A8;&#x548C;&#x957F;&#x6309;&#x624B;&#x52BF;&#x4E4B;&#x95F4;&#x7684;&#x51B2;&#x7A81;
    [longPressGesture requireGestureRecognizerToFail:panGesture];

    /*&#x6F14;&#x793A;&#x4E0D;&#x540C;&#x89C6;&#x56FE;&#x7684;&#x624B;&#x52BF;&#x540C;&#x65F6;&#x6267;&#x884C;
     *&#x5728;&#x4E0A;&#x9762;_imageView&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x4E86;&#x957F;&#x6309;&#x624B;&#x52BF;&#xFF0C;&#x8FD9;&#x91CC;&#x7ED9;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7684;&#x89C6;&#x56FE;&#x4E5F;&#x52A0;&#x4E0A;&#x957F;&#x6309;&#x624B;&#x52BF;&#x8BA9;&#x4E24;&#x8005;&#x90FD;&#x6267;&#x884C;
     *
     */
    self.view.tag=100;
    _imageView.tag=200;
    UILongPressGestureRecognizer *viewLongPressGesture=[[UILongPressGestureRecognizer alloc]initWithTarget:self action:@selector(longPressView:)];
    viewLongPressGesture.delegate=self;
    [self.view addGestureRecognizer:viewLongPressGesture];

}

#pragma mark &#x663E;&#x793A;&#x56FE;&#x7247;&#x540D;&#x79F0;
-(void)showPhotoName{
    NSString *title=[NSString stringWithFormat:@&quot;%i.jpg&quot;,_currentIndex];
    [self setTitle:title];
}

#pragma mark &#x4E0B;&#x4E00;&#x5F20;&#x56FE;&#x7247;
-(void)nextImage{
    int index=(_currentIndex+kImageCount+1)%kImageCount;
    NSString *imageName=[NSString stringWithFormat:@&quot;%i.jpg&quot;,index];
    _imageView.image=[UIImage imageNamed:imageName];
    _currentIndex=index;
    [self showPhotoName];
}

#pragma mark &#x4E0A;&#x4E00;&#x5F20;&#x56FE;&#x7247;
-(void)lastImage{
    int index=(_currentIndex+kImageCount-1)%kImageCount;
    NSString *imageName=[NSString stringWithFormat:@&quot;%i.jpg&quot;,index];
    _imageView.image=[UIImage imageNamed:imageName];
    _currentIndex=index;
    [self showPhotoName];
}

#pragma mark - &#x624B;&#x52BF;&#x64CD;&#x4F5C;
#pragma mark &#x70B9;&#x6309;&#x9690;&#x85CF;&#x6216;&#x663E;&#x793A;&#x5BFC;&#x822A;&#x680F;
-(void)tapImage:(UITapGestureRecognizer *)gesture{
    //NSLog(@&quot;tap:%i&quot;,gesture.state);
    BOOL hidden=!self.navigationController.navigationBarHidden;
    [self.navigationController setNavigationBarHidden:hidden animated:YES];
}

#pragma mark &#x957F;&#x6309;&#x63D0;&#x793A;&#x662F;&#x5426;&#x5220;&#x9664;
-(void)longPressImage:(UILongPressGestureRecognizer *)gesture{
    //NSLog(@&quot;longpress:%i&quot;,gesture.state);
    //&#x6CE8;&#x610F;&#x5176;&#x5B9E;&#x5728;&#x624B;&#x52BF;&#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;view&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x70B9;&#x6309;&#x7684;&#x89C6;&#x56FE;
    //UIImageView *imageView=(UIImageView *)gesture.view;

    //&#x7531;&#x4E8E;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#x6B64;&#x65B9;&#x6CD5;&#x4F1A;&#x8C03;&#x7528;&#x591A;&#x6B21;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x6C42;&#x5224;&#x65AD;&#x5176;&#x624B;&#x52BF;&#x72B6;&#x6001;
    if (gesture.state==UIGestureRecognizerStateBegan) {
        UIActionSheet *actionSheet=[[UIActionSheet alloc]initWithTitle:@&quot;System Info&quot; delegate:nil cancelButtonTitle:@&quot;Cancel&quot; destructiveButtonTitle:@&quot;Delete the photo&quot; otherButtonTitles:nil];
        [actionSheet showInView:self.view];

    }
}

#pragma mark &#x634F;&#x5408;&#x65F6;&#x7F29;&#x653E;&#x56FE;&#x7247;
-(void)pinchImage:(UIPinchGestureRecognizer *)gesture{
    //NSLog(@&quot;pinch:%i&quot;,gesture.state);

    if (gesture.state==UIGestureRecognizerStateChanged) {
        //&#x634F;&#x5408;&#x624B;&#x52BF;&#x4E2D;scale&#x5C5E;&#x6027;&#x8BB0;&#x5F55;&#x7684;&#x7F29;&#x653E;&#x6BD4;&#x4F8B;
        _imageView.transform=CGAffineTransformMakeScale(gesture.scale, gesture.scale);
    }else if(gesture.state==UIGestureRecognizerStateEnded){//&#x7ED3;&#x675F;&#x540E;&#x6062;&#x590D;
        [UIView animateWithDuration:.5 animations:^{
            _imageView.transform=CGAffineTransformIdentity;//&#x53D6;&#x6D88;&#x4E00;&#x5207;&#x5F62;&#x53D8;
        }];
    }
}

#pragma mark &#x65CB;&#x8F6C;&#x56FE;&#x7247;
-(void)rotateImage:(UIRotationGestureRecognizer *)gesture{
    //NSLog(@&quot;rotate:%i&quot;,gesture.state);
    if (gesture.state==UIGestureRecognizerStateChanged) {
        //&#x65CB;&#x8F6C;&#x624B;&#x52BF;&#x4E2D;rotation&#x5C5E;&#x6027;&#x8BB0;&#x5F55;&#x4E86;&#x65CB;&#x8F6C;&#x5F27;&#x5EA6;
        _imageView.transform=CGAffineTransformMakeRotation(gesture.rotation);
    }else if(gesture.state==UIGestureRecognizerStateEnded){
        [UIView animateWithDuration:0.8 animations:^{
            _imageView.transform=CGAffineTransformIdentity;//&#x53D6;&#x6D88;&#x5F62;&#x53D8;
        }];
    }
}

#pragma mark &#x62D6;&#x52A8;&#x56FE;&#x7247;
-(void)panImage:(UIPanGestureRecognizer *)gesture{
    if (gesture.state==UIGestureRecognizerStateChanged) {
        CGPoint translation=[gesture translationInView:self.view];//&#x5229;&#x7528;&#x62D6;&#x52A8;&#x624B;&#x52BF;&#x7684;translationInView:&#x65B9;&#x6CD5;&#x53D6;&#x5F97;&#x5728;&#x76F8;&#x5BF9;&#x6307;&#x5B9A;&#x89C6;&#x56FE;&#xFF08;&#x63A7;&#x5236;&#x5668;&#x6839;&#x89C6;&#x56FE;&#xFF09;&#x7684;&#x79FB;&#x52A8;
        _imageView.transform=CGAffineTransformMakeTranslation(translation.x, translation.y);
    }else if(gesture.state==UIGestureRecognizerStateEnded){
        [UIView animateWithDuration:0.5 animations:^{
            _imageView.transform=CGAffineTransformIdentity;
        }];
    }

}

#pragma mark &#x8F7B;&#x626B;&#x5219;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#x6216;&#x4E0A;&#x4E00;&#x5F20;
//&#x6CE8;&#x610F;&#x867D;&#x7136;&#x8F7B;&#x626B;&#x624B;&#x52BF;&#x662F;&#x8FDE;&#x7EED;&#x624B;&#x52BF;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x6709;&#x5728;&#x8BC6;&#x522B;&#x7ED3;&#x675F;&#x624D;&#x4F1A;&#x89E6;&#x53D1;&#xFF0C;&#x4E0D;&#x7528;&#x5224;&#x65AD;&#x72B6;&#x6001;
-(void)swipeImage:(UISwipeGestureRecognizer *)gesture{
//    NSLog(@&quot;swip:%i&quot;,gesture.state);
//    if (gesture.state==UIGestureRecognizerStateEnded) {

        //direction&#x8BB0;&#x5F55;&#x7684;&#x8F7B;&#x626B;&#x7684;&#x65B9;&#x5411;
        if (gesture.direction==UISwipeGestureRecognizerDirectionRight) {//&#x5411;&#x53F3;
            [self nextImage];
//            NSLog(@&quot;right&quot;);
        }else if(gesture.direction==UISwipeGestureRecognizerDirectionLeft){//&#x5411;&#x5DE6;
//            NSLog(@&quot;left&quot;);
            [self lastImage];
        }
//    }
}

#pragma mark &#x63A7;&#x5236;&#x5668;&#x89C6;&#x56FE;&#x7684;&#x957F;&#x6309;&#x624B;&#x52BF;
-(void)longPressView:(UILongPressGestureRecognizer *)gesture{
    NSLog(@&quot;view long press!&quot;);
}

#pragma mark &#x624B;&#x52BF;&#x4EE3;&#x7406;&#x65B9;&#x6CD5;
-(BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer{
    //NSLog(@&quot;%i,%i&quot;,gestureRecognizer.view.tag,otherGestureRecognizer.view.tag);

    //&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x63A7;&#x5236;&#x53EA;&#x6709;&#x5728;UIImageView&#x4E2D;&#x624D;&#x80FD;&#x5411;&#x4E0B;&#x4F20;&#x64AD;&#xFF0C;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x4E0D;&#x5141;&#x8BB8;
    if ([otherGestureRecognizer.view isKindOfClass:[UIImageView class]]) {
        return YES;
    }
    return NO;
}

#pragma mark - &#x89E6;&#x6478;&#x4E8B;&#x4EF6;
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event{
    NSLog(@&quot;touch begin...&quot;);
}
-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event{
    NSLog(@&quot;touch end.&quot;);
}
@end</pre>

<h2 id="&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;"><a href="#&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;" class="headerlink" title="&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;"></a>&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;</h2><p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x4EE5;&#x53CA;&#x7531;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x5F15;&#x51FA;&#x7684;&#x624B;&#x52BF;&#x8BC6;&#x522B;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;&#x3002;&#x5728;iOS&#x4E2D;&#x548C;&#x8FD0;&#x52A8;&#x76F8;&#x5173;&#x7684;&#x6709;&#x4E09;&#x4E2A;&#x4E8B;&#x4EF6;:&#x5F00;&#x59CB;&#x8FD0;&#x52A8;&#x3001;&#x7ED3;&#x675F;&#x8FD0;&#x52A8;&#x3001;&#x53D6;&#x6D88;&#x8FD0;&#x52A8;&#x3002;</p>
<p>&#x76D1;&#x542C;&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;&#x5BF9;&#x4E8E;UI&#x63A7;&#x4EF6;&#x6709;&#x4E2A;&#x524D;&#x63D0;&#x5C31;&#x662F;&#x76D1;&#x542C;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x662F;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;&#xFF08;&#x5BF9;&#x4E8E;UIViewController&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x548C;UIAPPlication&#x6CA1;&#x6709;&#x6B64;&#x8981;&#x6C42;&#xFF09;&#x3002;&#x8FD9;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x76D1;&#x542C;&#x7684;&#x662F;&#x4E00;&#x4E2A;UI&#x63A7;&#x4EF6;&#x90A3;&#x4E48;<strong>-(BOOL)canBecomeFirstResponder;</strong>&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;YES&#x3002;&#x540C;&#x65F6;&#x63A7;&#x4EF6;&#x663E;&#x793A;&#x65F6;&#xFF08;&#x5728;<strong>-(void)viewWillAppear:(BOOL)animated;</strong>&#x4E8B;&#x4EF6;&#x4E2D;&#xFF09;&#x8C03;&#x7528;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7684;<strong>becomeFirstResponder</strong>&#x65B9;&#x6CD5;&#x3002;&#x5F53;&#x89C6;&#x56FE;&#x4E0D;&#x518D;&#x663E;&#x793A;&#x65F6;&#xFF08;&#x5728;<strong>-(void)viewDidDisappear:(BOOL)animated;</strong>&#x4E8B;&#x4EF6;&#x4E2D;&#xFF09;&#x6CE8;&#x9500;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;&#x8EAB;&#x4EFD;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x9ED8;&#x8BA4;&#x5C31;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x8FD0;&#x52A8;&#x5F00;&#x59CB;&#x3001;&#x8FD0;&#x52A8;&#x7ED3;&#x675F;&#x4E8B;&#x4EF6;&#x5728;&#x6B64;&#x4E0D;&#x518D;&#x4E3E;&#x4F8B;&#x3002;&#x73B0;&#x5728;&#x4E0D;&#x59A8;&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x5728;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x6447;&#x4E00;&#x6447;&#x627E;&#x4EBA;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C31;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#x5C55;&#x793A;&#x63A7;&#x4EF6;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x56FE;&#x7247;&#x63A7;&#x4EF6;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6447;&#x6643;&#x968F;&#x673A;&#x5207;&#x6362;&#x754C;&#x9762;&#x56FE;&#x7247;&#x3002;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF1A;</p>
<p>BMImageView.m</p>
<p><pre class="code">#import &#x201C;BMImageView.h&#x201D;</pre></p>
<p>#define BMImageCount 3</p>
<p>@implementation BMImageView</p>
<ul>
<li>(instancetype)initWithFrame:(CGRect)frame {<br>  self = [super initWithFrame:frame];<br>  if (self) {<pre><code>self.image=[self getImage];
</code></pre>  }<br>  return self;<br>}</li>
</ul>
<p>#pragma mark &#x8BBE;&#x7F6E;&#x63A7;&#x4EF6;&#x53EF;&#x4EE5;&#x6210;&#x4E3A;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;<br>-(BOOL)canBecomeFirstResponder{<br>    return YES;<br>}</p>
<p>#pragma mark &#x8FD0;&#x52A8;&#x5F00;&#x59CB;<br>-(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event{<br>    //&#x8FD9;&#x91CC;&#x53EA;&#x5904;&#x7406;&#x6447;&#x6643;&#x4E8B;&#x4EF6;<br>    if (motion==UIEventSubtypeMotionShake) {<br>        self.image=[self getImage];<br>    }<br>}</p>
<p>#pragma mark &#x8FD0;&#x52A8;&#x7ED3;&#x675F;<br>-(void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event{</p>
<p>}</p>
<p>#pragma mark &#x968F;&#x673A;&#x53D6;&#x5F97;&#x56FE;&#x7247;<br>-(UIImage <em>)getImage{<br>    int index= arc4random()%kImageCount;<br>    NSString </em>imageName=[NSString stringWithFormat:@&#x201D;avatar%i.png&#x201D;,index];<br>    UIImage *image=[UIImage imageNamed:imageName];<br>    return image;<br>}<br>@end<br>BMShakeViewController.m</p>
<p><pre class="code">#import &#x201C;BMShakeViewController.h&#x201D;</pre></p>
<p>#import &#x201C;BMImageView.h&#x201D;</p>
<p>@interface BMShakeViewController (){<br>    BMImageView *_imageView;<br>}</p>
<p>@end</p>
<p>@implementation BMShakeViewController</p>
<ul>
<li>(void)viewDidLoad {<br>  [super viewDidLoad];</li>
</ul>
<p>}</p>
<p>#pragma mark &#x89C6;&#x56FE;&#x663E;&#x793A;&#x65F6;&#x8BA9;&#x63A7;&#x4EF6;&#x53D8;&#x6210;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;<br>-(void)viewDidAppear:(BOOL)animated{<br>    _imageView=[[BMImageView alloc]initWithFrame:[UIScreen mainScreen].applicationFrame];<br>    _imageView.userInteractionEnabled=true;<br>    [self.view addSubview:_imageView];<br>    [_imageView becomeFirstResponder];<br>}</p>
<p>#pragma mark &#x89C6;&#x56FE;&#x4E0D;&#x663E;&#x793A;&#x65F6;&#x6CE8;&#x9500;&#x63A7;&#x4EF6;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;&#x7684;&#x8EAB;&#x4EFD;<br>-(void)viewDidDisappear:(BOOL)animated{<br>    [_imageView resignFirstResponder];<br>}</p>
<p>/<em>&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x7684;&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;</em>/<br>//-(void)motionBegan:(UIEventSubtype)motion withEvent:(UIEvent <em>)event{<br>//    NSLog(@&#x201D;motion begin&#x2026;&#x201D;);<br>//}<br>//<br>//-(void)motionEnded:(UIEventSubtype)motion withEvent:(UIEvent </em>)event{<br>//    NSLog(@&#x201D;motion end.&#x201D;);<br>//}</p>
<p>@end<br>&#x8FD0;&#x884C;&#x6548;&#x679C;&#xFF08;&#x4E0B;&#x56FE;&#x6F14;&#x793A;&#x65F6;&#x4F7F;&#x7528;&#x4E86;&#x6A21;&#x62DF;&#x5668;&#x6447;&#x6643;&#x64CD;&#x4F5C;&#x7684;&#x5FEB;&#x6377;&#x952E;,&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x9F20;&#x6807;&#x64CD;&#x4F5C;&#xFF09;&#xFF1A;</p>
<p><a href="http://images.cnitblog.com/blog/62046/201409/020633047975098.gif" target="_blank" rel="external"><img src="http://images.cnitblog.com/blog/62046/201409/020633051412527.gif" alt="MotionEffect" title="MotionEffect"></a></p>
<p>&#xA0;</p>
<h2 id="&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;"><a href="#&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;" class="headerlink" title="&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;"></a>&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;</h2><p>&#x5728;&#x4ECA;&#x5929;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#x8FD8;&#x5269;&#x4E0B;&#x6700;&#x540E;&#x4E00;&#x7C7B;&#x4E8B;&#x4EF6;&#xFF1A;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#xFF0C;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BF4;&#x7684;&#x5C31;&#x662F;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x64CD;&#x4F5C;&#x3002;&#x5728;&#x524D;&#x9762;&#x7684;&#x4E8B;&#x4EF6;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;iOS&#x4E2D;&#x548C;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x6709;&#x5173;&#x7684;&#x53EA;&#x6709;&#x4E00;&#x4E2A;<strong>- (void)remoteControlReceivedWithEvent:(UIEvent *)event NS_AVAILABLE_IOS(4_0);</strong>&#x4E8B;&#x4EF6;<strong>&#x3002;</strong>&#x8981;&#x76D1;&#x542C;&#x5230;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x6709;&#x4E09;&#x4E2A;&#x524D;&#x63D0;&#xFF08;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;UIViewController&#x6216;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;UIApplication&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#xFF09;</p>
<ul>
<li>&#x542F;&#x7528;&#x8FDC;&#x7A0B;&#x4E8B;&#x4EF6;&#x63A5;&#x6536;&#xFF08;<strong>&#x4F7F;&#x7528;[[UIApplication sharedApplication] beginReceivingRemoteControlEvents];</strong>&#x65B9;&#x6CD5;&#xFF09;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;UI&#x63A7;&#x4EF6;&#x540C;&#x6837;&#x8981;&#x6C42;&#x5FC5;&#x987B;&#x662F;&#x7B2C;&#x4E00;&#x54CD;&#x5E94;&#x8005;&#xFF08;&#x5BF9;&#x4E8E;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;UIViewController&#x6216;&#x8005;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;UIApplication&#x5BF9;&#x8C61;&#x76D1;&#x542C;&#x65E0;&#x6B64;&#x8981;&#x6C42;&#xFF09;&#x3002;</li>
<li>&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5FC5;&#x987B;&#x662F;&#x5F53;&#x524D;&#x97F3;&#x9891;&#x7684;&#x63A7;&#x5236;&#x8005;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;iOS 7&#x4E2D;&#x901A;&#x77E5;&#x680F;&#x4E2D;&#x5F53;&#x524D;&#x97F3;&#x9891;&#x64AD;&#x653E;&#x7A0B;&#x5E8F;&#x5FC5;&#x987B;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5F00;&#x53D1;&#x7A0B;&#x5E8F;&#x3002;<br>&#x57FA;&#x4E8E;&#x7B2C;&#x4E09;&#x70B9;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x660E;&#x786E;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x4E0D;&#x60F3;&#x8981;&#x63A7;&#x5236;&#x97F3;&#x9891;&#xFF0C;&#x53EA;&#x662F;&#x60F3;&#x5229;&#x7528;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x505A;&#x5176;&#x4ED6;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x4F8B;&#x5982;&#x6A21;&#x4EFF;iOS7&#x4E2D;&#x7684;&#x6309;&#x97F3;&#x91CF;+&#x952E;&#x62CD;&#x7167;&#x662F;&#x505A;&#x4E0D;&#x5230;&#x7684;&#xFF0C;&#x76EE;&#x524D;iOS7&#x7ED9;&#x6211;&#x4EEC;&#x7684;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x6743;&#x9650;&#x8FD8;&#x4EC5;&#x9650;&#x4E8E;&#x97F3;&#x9891;&#x63A7;&#x5236;&#xFF08;&#x5F53;&#x7136;&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x786E;&#x5B9E;&#x60F3;&#x8981;&#x505A;&#x4E00;&#x4E2A;&#x548C;&#x64AD;&#x653E;&#x97F3;&#x9891;&#x65E0;&#x5173;&#x7684;&#x5E94;&#x7528;&#x4F46;&#x662F;&#x53C8;&#x60F3;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x9690;&#x85CF;&#x4E00;&#x4E2A;&#x97F3;&#x9891;&#x64AD;&#x653E;&#x64CD;&#x4F5C;&#xFF0C;&#x62FF;&#x5230;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x64CD;&#x4F5C;&#x6743;&#x540E;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#xFF09;&#x3002;</li>
</ul>
<p>&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x63D0;&#x5230;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x7C7B;&#x578B;UIEventSubtype&#xFF0C;&#x800C;&#x4E14;&#x6211;&#x4EEC;&#x5229;&#x7528;&#x5B83;&#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x8FD0;&#x52A8;&#x4E8B;&#x4EF6;&#xFF0C;&#x5728;&#x679A;&#x4E3E;&#x4E2D;&#x8FD8;&#x5305;&#x542B;&#x4E86;&#x6211;&#x4EEC;&#x8FD0;&#x7A0B;&#x63A7;&#x5236;&#x7684;&#x5B50;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x719F;&#x6089;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x679A;&#x4E3E;&#xFF08;&#x4ECE;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x5B50;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#x4E5F;&#x4E0D;&#x96BE;&#x53D1;&#x73B0;&#x5B83;&#x548C;&#x97F3;&#x9891;&#x64AD;&#x653E;&#x6709;&#x5BC6;&#x5207;&#x5173;&#x7CFB;&#xFF09;&#xFF1A;</p>
<p><pre class="code">typedef NS_ENUM(NSInteger, UIEventSubtype) {<br>    // &#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x5B50;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;<br>    UIEventSubtypeNone                              = 0,</pre></p>
<pre><code>// &#x6447;&#x6643;&#x4E8B;&#x4EF6;&#xFF08;&#x4ECE;iOS3.0&#x5F00;&#x59CB;&#x652F;&#x6301;&#x6B64;&#x4E8B;&#x4EF6;&#xFF09;
UIEventSubtypeMotionShake                       = 1,

//&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x5B50;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#xFF08;&#x4ECE;iOS4.0&#x5F00;&#x59CB;&#x652F;&#x6301;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#xFF09;
//&#x64AD;&#x653E;&#x4E8B;&#x4EF6;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x505C;&#x6B62;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E00;&#x4E0B;&#x3011;
UIEventSubtypeRemoteControlPlay                 = 100,
//&#x6682;&#x505C;&#x4E8B;&#x4EF6;
UIEventSubtypeRemoteControlPause                = 101,
//&#x505C;&#x6B62;&#x4E8B;&#x4EF6;
UIEventSubtypeRemoteControlStop                 = 102,
//&#x64AD;&#x653E;&#x6216;&#x6682;&#x505C;&#x5207;&#x6362;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x64AD;&#x653E;&#x6216;&#x6682;&#x505C;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E00;&#x4E0B;&#x3011;
UIEventSubtypeRemoteControlTogglePlayPause      = 103,
//&#x4E0B;&#x4E00;&#x66F2;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E24;&#x4E0B;&#x3011;
UIEventSubtypeRemoteControlNextTrack            = 104,
//&#x4E0A;&#x4E00;&#x66F2;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E09;&#x4E0B;&#x3011;
UIEventSubtypeRemoteControlPreviousTrack        = 105,
//&#x5FEB;&#x9000;&#x5F00;&#x59CB;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E09;&#x4E0B;&#x4E0D;&#x8981;&#x677E;&#x5F00;&#x3011;
UIEventSubtypeRemoteControlBeginSeekingBackward = 106,
//&#x5FEB;&#x9000;&#x505C;&#x6B62;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E09;&#x4E0B;&#x5230;&#x4E86;&#x5FEB;&#x9000;&#x7684;&#x4F4D;&#x7F6E;&#x677E;&#x5F00;&#x3011;
UIEventSubtypeRemoteControlEndSeekingBackward   = 107,
//&#x5FEB;&#x8FDB;&#x5F00;&#x59CB;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E24;&#x4E0B;&#x4E0D;&#x8981;&#x677E;&#x5F00;&#x3011;
UIEventSubtypeRemoteControlBeginSeekingForward  = 108,
//&#x5FEB;&#x8FDB;&#x505C;&#x6B62;&#x3010;&#x64CD;&#x4F5C;&#xFF1A;&#x6309;&#x8033;&#x673A;&#x7EBF;&#x63A7;&#x4E2D;&#x95F4;&#x6309;&#x94AE;&#x4E24;&#x4E0B;&#x5230;&#x4E86;&#x5FEB;&#x8FDB;&#x7684;&#x4F4D;&#x7F6E;&#x677E;&#x5F00;&#x3011;
UIEventSubtypeRemoteControlEndSeekingForward    = 109,
</code></pre><p>};<br>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C06;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x653E;&#x5230;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#xFF08;&#x4E8B;&#x5B9E;&#x4E0A;&#x5F88;&#x5C11;&#x76F4;&#x63A5;&#x6DFB;&#x52A0;&#x5230;UI&#x63A7;&#x4EF6;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x6DFB;&#x52A0;&#x5230;UIApplication&#x6216;&#x8005;UIViewController&#xFF09;&#xFF0C;&#x6A21;&#x62DF;&#x4E00;&#x4E2A;&#x97F3;&#x4E50;&#x64AD;&#x653E;&#x5668;&#x3002;</p>
<p>1.&#x9996;&#x5148;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x540E;&#x8BBE;&#x7F6E;&#x63A5;&#x6536;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x97F3;&#x9891;&#x4F1A;&#x8BDD;&#x4FDD;&#x8BC1;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x53EF;&#x4EE5;&#x64AD;&#x653E;&#xFF08;&#x6CE8;&#x610F;&#x8981;&#x5728;&#x5E94;&#x7528;&#x914D;&#x7F6E;&#x4E2D;&#x8BBE;&#x7F6E;&#x5141;&#x8BB8;&#x591A;&#x4EFB;&#x52A1;&#xFF09;</p>
<p><pre class="lang:objc decode:true code">#import &#x201C;AppDelegate.h&#x201D;</pre></p>
<p>#import &#x201C;ViewController.h&#x201D;</p>
<p>#import &lt;AVFoundation/AVFoundation.h&gt;</p>
<p>#import &#x201C;Application.h&#x201D;</p>
<p>@interface AppDelegate ()</p>
<p>@end</p>
<p>@implementation AppDelegate</p>
<ul>
<li><p>(BOOL)application:(UIApplication <em>)application didFinishLaunchingWithOptions:(NSDictionary </em>)launchOptions {<br>  _window=[[UIWindow alloc]initWithFrame:[UIScreen mainScreen].bounds];</p>
<p>  _window.backgroundColor =[UIColor colorWithRed:249/255.0 green:249/255.0 blue:249/255.0 alpha:1];</p>
<p>  //&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x5BFC;&#x822A;&#x6761;&#x98CE;&#x683C;&#x548C;&#x989C;&#x8272;<br>  [[UINavigationBar appearance] setBarTintColor:[UIColor colorWithRed:23/255.0 green:180/255.0 blue:237/255.0 alpha:1]];<br>  [[UINavigationBar appearance] setBarStyle:UIBarStyleBlack];</p>
<p>  ViewController *mainController=[[ViewController alloc]init];<br>  _window.rootViewController=mainController;</p>
<p>  //&#x8BBE;&#x7F6E;&#x64AD;&#x653E;&#x4F1A;&#x8BDD;&#xFF0C;&#x5728;&#x540E;&#x53F0;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x64AD;&#x653E;&#xFF08;&#x8FD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x7A0B;&#x5E8F;&#x5141;&#x8BB8;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x6A21;&#x5F0F;&#xFF09;<br>  [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil];<br>  if(![[AVAudioSession sharedInstance] setActive:YES error:nil])<br>  {</p>
<pre><code>NSLog(@&quot;Failed to set up a session.&quot;);
</code></pre><p>  }</p>
<p>  //&#x542F;&#x7528;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x63A5;&#x6536;<br>  [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];<br>//    [self becomeFirstResponder];</p>
<p>  [_window makeKeyAndVisible];</p>
<p>  return YES;<br>}</p>
</li>
</ul>
<p>//-(void)remoteControlReceivedWithEvent:(UIEvent *)event{<br>//    NSLog(@&#x201D;remote&#x201D;);<br>//}</p>
<ul>
<li><p>(void)applicationWillResignActive:(UIApplication *)application {<br>  // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.<br>  // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.<br>}</p>
</li>
<li><p>(void)applicationDidEnterBackground:(UIApplication *)application {<br>  // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.<br>  // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.</p>
<p>  [[UIApplication sharedApplication] beginBackgroundTaskWithExpirationHandler:nil];<br>}</p>
</li>
<li><p>(void)applicationWillEnterForeground:(UIApplication *)application {<br>  // Called as part of the transition from the background to the inactive state; here you can undo many of the changes made on entering the background.<br>}</p>
</li>
<li><p>(void)applicationDidBecomeActive:(UIApplication *)application {<br>  // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.<br>}</p>
</li>
<li><p>(void)applicationWillTerminate:(UIApplication *)application {<br>  // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.<br>}</p>
</li>
</ul>
<p>@end<br>2.&#x5728;&#x89C6;&#x56FE;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x6DFB;&#x52A0;&#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;&#x5E76;&#x97F3;&#x9891;&#x64AD;&#x653E;&#x8FDB;&#x884C;&#x63A7;&#x5236;</p>
<p><pre class="code ">#import &#x201C;ViewController.h&#x201D;</pre></p>
<p>@interface ViewController (){<br>    UIButton *_playButton;<br>    BOOL _isPlaying;<br>}</p>
<p>@end</p>
<p>@implementation ViewController</p>
<ul>
<li><p>(void)viewDidLoad {<br>  [super viewDidLoad];</p>
<p>  [self initLayout];<br>}</p>
</li>
</ul>
<p>-(BOOL)canBecomeFirstResponder{<br>    return NO;<br>}</p>
<p>-(void)viewDidAppear:(BOOL)animated{<br>    [super viewDidAppear:animated];<br>    _player = [[AVPlayer alloc] initWithURL:[NSURL URLWithString:@&#x201D;<a href="http://stream.jewishmusicstream.com:8000" target="_blank" rel="external">http://stream.jewishmusicstream.com:8000</a>&#x201C;]];</p>
<pre><code>//[_player play];
//_isPlaying=true;
</code></pre><p>}</p>
<p>#pragma mark &#x8FDC;&#x7A0B;&#x63A7;&#x5236;&#x4E8B;&#x4EF6;<br>-(void)remoteControlReceivedWithEvent:(UIEvent *)event{<br>    NSLog(@&#x201D;%i,%i&#x201D;,event.type,event.subtype);<br>    if(event.type==UIEventTypeRemoteControl){<br>        switch (event.subtype) {<br>            case UIEventSubtypeRemoteControlPlay:<br>                [_player play];<br>                _isPlaying=true;<br>                break;<br>            case UIEventSubtypeRemoteControlTogglePlayPause:<br>                if (_isPlaying) {<br>                    [_player pause];<br>                }else{<br>                    [_player play];<br>                }<br>                _isPlaying=!_isPlaying;<br>                break;<br>            case UIEventSubtypeRemoteControlNextTrack:<br>                NSLog(@&#x201D;Next&#x2026;&#x201D;);<br>                break;<br>            case UIEventSubtypeRemoteControlPreviousTrack:<br>                NSLog(@&#x201D;Previous&#x2026;&#x201D;);<br>                break;<br>            case UIEventSubtypeRemoteControlBeginSeekingForward:<br>                NSLog(@&#x201D;Begin seek forward&#x2026;&#x201D;);<br>                break;<br>            case UIEventSubtypeRemoteControlEndSeekingForward:<br>                NSLog(@&#x201D;End seek forward&#x2026;&#x201D;);<br>                break;<br>            case UIEventSubtypeRemoteControlBeginSeekingBackward:<br>                NSLog(@&#x201D;Begin seek backward&#x2026;&#x201D;);<br>                break;<br>            case UIEventSubtypeRemoteControlEndSeekingBackward:<br>                NSLog(@&#x201D;End seek backward&#x2026;&#x201D;);<br>                break;<br>            default:<br>                break;<br>        }<br>        [self changeUIState];<br>    }<br>}</p>
<p>#pragma mark &#x754C;&#x9762;&#x5E03;&#x5C40;<br>-(void)initLayout{<br>    //&#x4E13;&#x8F91;&#x5C01;&#x9762;<br>    UIImage <em>image=[UIImage imageNamed:@&#x201D;wxl.jpg&#x201D;];<br>    UIImageView </em>imageView=[[UIImageView alloc]initWithFrame:[UIScreen mainScreen].applicationFrame];<br>    imageView.image=image;<br>    imageView.contentMode=UIViewContentModeScaleAspectFill;<br>    [self.view addSubview:imageView];<br>    //&#x64AD;&#x653E;&#x63A7;&#x5236;&#x9762;&#x677F;<br>    UIView *view=[[UIView alloc]initWithFrame:CGRectMake(0, 480, 320, 88)];<br>    view.backgroundColor=[UIColor lightGrayColor];<br>    view.alpha=0.9;<br>    [self.view addSubview:view];</p>
<pre><code>//&#x6DFB;&#x52A0;&#x64AD;&#x653E;&#x6309;&#x94AE;
_playButton=[UIButton buttonWithType:UIButtonTypeCustom];
_playButton.bounds=CGRectMake(0, 0, 50, 50);
_playButton.center=CGPointMake(view.frame.size.width/2, view.frame.size.height/2);
[self changeUIState];
[_playButton addTarget:self action:@selector(btnClick:) forControlEvents:UIControlEventTouchUpInside];
[view addSubview:_playButton];
</code></pre><p>}</p>
<p>#pragma mark &#x754C;&#x9762;&#x72B6;&#x6001;<br>-(void)changeUIState{<br>    if(_isPlaying){<br>        [_playButton setImage:[UIImage imageNamed:@&#x201D;playing_btn_pause_n.png&#x201D;] forState:UIControlStateNormal];<br>        [_playButton setImage:[UIImage imageNamed:@&#x201D;playing_btn_pause_h.png&#x201D;] forState:UIControlStateHighlighted];<br>    }else{<br>        [_playButton setImage:[UIImage imageNamed:@&#x201D;playing_btn_play_n.png&#x201D;] forState:UIControlStateNormal];<br>        [_playButton setImage:[UIImage imageNamed:@&#x201D;playing_btn_play_h.png&#x201D;] forState:UIControlStateHighlighted];<br>    }<br>}</p>
<p>-(void)btnClick:(UIButton *)btn{<br>    if (_isPlaying) {<br>        [_player pause];<br>    }else{<br>        [_player play];<br>    }<br>    _isPlaying=!_isPlaying;<br>    [self changeUIState];<br>}<br>@end<br>&#x8FD0;&#x884C;&#x6548;&#x679C;(&#x771F;&#x673A;&#x622A;&#x56FE;)&#xFF1A;</p>
<p><a href="http://images.cnitblog.com/blog/62046/201409/020633057825697.png" target="_blank" rel="external"><img src="http://images.cnitblog.com/blog/62046/201409/020633069389711.png" alt="MusicPlayer" title="MusicPlayer"></a></p>
<p>&#x6CE8;&#x610F;&#xFF1A;</p>
<ul>
<li>&#x4E3A;&#x4E86;&#x6A21;&#x62DF;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x7684;&#x64AD;&#x653E;&#x5668;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E2D;&#x6211;&#x4EEC;&#x542F;&#x7528;&#x4E86;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x6A21;&#x5F0F;&#xFF0C;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1A;&#x5728;info.plist&#x4E2D;&#x6DFB;&#x52A0;UIBackgroundModes&#x5E76;&#x4E14;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x503C;&#x4E3A;audio&#x3002;</li>
<li>&#x5373;&#x4F7F;&#x5229;&#x7528;&#x7EBF;&#x63A7;&#x8FDB;&#x884C;&#x97F3;&#x9891;&#x63A7;&#x5236;&#x6211;&#x4EEC;&#x4E5F;&#x65E0;&#x6CD5;&#x76D1;&#x63A7;&#x5230;&#x8033;&#x673A;&#x589E;&#x52A0;&#x97F3;&#x91CF;&#x3001;&#x51CF;&#x5C0F;&#x97F3;&#x91CF;&#x7684;&#x6309;&#x952E;&#x64CD;&#x4F5C;&#xFF08;&#x53E6;&#x5916;&#x6CE8;&#x610F;&#x6A21;&#x62DF;&#x5668;&#x65E0;&#x6CD5;&#x6A21;&#x62DF;&#x8FDC;&#x7A0B;&#x4E8B;&#x4EF6;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x771F;&#x673A;&#x8C03;&#x8BD5;&#xFF09;&#x3002;</li>
<li>&#x5B50;&#x4E8B;&#x4EF6;&#x7684;&#x7C7B;&#x578B;&#x8DDF;&#x5F53;&#x524D;&#x97F3;&#x9891;&#x72B6;&#x6001;&#x6709;&#x76F4;&#x63A5;&#x5173;&#x7CFB;&#xFF0C;&#x70B9;&#x51FB;&#x4E00;&#x6B21;&#x64AD;&#x653E;/&#x6682;&#x505C;&#x6309;&#x94AE;&#x7A76;&#x7ADF;&#x662F;&#x3010;&#x64AD;&#x653E;&#x3011;&#x8FD8;&#x662F;&#x3010;&#x64AD;&#x653E;/&#x6682;&#x505C;&#x3011;&#x72B6;&#x6001;&#x5207;&#x6362;&#x8981;&#x770B;&#x5F53;&#x524D;&#x97F3;&#x9891;&#x5904;&#x4E8E;&#x4EC0;&#x4E48;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x679C;&#x5904;&#x4E8E;&#x505C;&#x6B62;&#x72B6;&#x6001;&#x5219;&#x70B9;&#x51FB;&#x4E00;&#x4E0B;&#x662F;&#x64AD;&#x653E;&#xFF0C;&#x5982;&#x679C;&#x5904;&#x4E8E;&#x6682;&#x505C;&#x6216;&#x64AD;&#x653E;&#x72B6;&#x6001;&#x70B9;&#x51FB;&#x4E00;&#x4E0B;&#x662F;&#x6682;&#x505C;&#x548C;&#x64AD;&#x653E;&#x5207;&#x6362;&#x3002;</li>
<li>&#x4E0A;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x5DF2;&#x5728;&#x771F;&#x673A;&#x8C03;&#x8BD5;&#x901A;&#x8FC7;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x7EBF;&#x63A7;&#x8FD8;&#x662F;&#x70B9;&#x51FB;&#x5E94;&#x7528;&#x6309;&#x94AE;&#x90FD;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x64AD;&#x653E;&#x6216;&#x6682;&#x505C;&#x3002;</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/UIEvent/" rel="tag">#UIEvent</a>
          
            <a href="/tags/UIGestureRecognizer/" rel="tag">#UIGestureRecognizer</a>
          
            <a href="/tags/UIResponder/" rel="tag">#UIResponder</a>
          
            <a href="/tags/UITouch/" rel="tag">#UITouch</a>
          
            <a href="/tags/手势/" rel="tag">#手势</a>
          
            <a href="/tags/手势识别/" rel="tag">#手势识别</a>
          
            <a href="/tags/触摸事件/" rel="tag">#触摸事件</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/07/29/sharedapplication-openurl/" rel="next" title="sharedApplication之openURL">
                <i class="fa fa-chevron-left"></i> sharedApplication之openURL
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/07/31/ios-multi-thread-nsthreadgcdnsoperation-and-thread-synchronization/" rel="prev" title="ios多线程之NSThread,GCD,NSOperation以及线程同步">
                ios多线程之NSThread,GCD,NSOperation以及线程同步 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="BirdMichael" />
          <p class="site-author-name" itemprop="name">BirdMichael</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">60</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">85</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#UIResponder"><span class="nav-number">1.</span> <span class="nav-text">UIResponder</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#响应者"><span class="nav-number">1.1.</span> <span class="nav-text">响应者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IOS事件"><span class="nav-number">1.2.</span> <span class="nav-text">IOS事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件处理机制"><span class="nav-number">1.3.</span> <span class="nav-text">事件处理机制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UIGestureRecognizer"><span class="nav-number">2.</span> <span class="nav-text">UIGestureRecognizer</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用手势"><span class="nav-number">2.1.</span> <span class="nav-text">使用手势</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运动事件"><span class="nav-number">3.</span> <span class="nav-text">运动事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#远程控制事件"><span class="nav-number">4.</span> <span class="nav-text">远程控制事件</span></a></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BirdMichael</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
