<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="&amp;#x4ECB;&amp;#x7ECD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF08;Design Pattern&amp;#xFF09;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x88AB;&amp;#x53CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x3001;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x77E5;&amp;#x6653;&amp;#">
<meta property="og:type" content="article">
<meta property="og:title" content="IOS常见设计模式">
<meta property="og:url" content="http://yoursite.com/2015/08/04/23-design-patterns/index.html">
<meta property="og:site_name" content="BirdMichael">
<meta property="og:description" content="&amp;#x4ECB;&amp;#x7ECD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF08;Design Pattern&amp;#xFF09;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x88AB;&amp;#x53CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x3001;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x77E5;&amp;#x6653;&amp;#">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://birdmichael.com/wp-content/uploads/2015/08/singleton.jpg">
<meta property="og:updated_time" content="2016-07-25T06:30:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IOS常见设计模式">
<meta name="twitter:description" content="&amp;#x4ECB;&amp;#x7ECD;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF08;Design Pattern&amp;#xFF09;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x88AB;&amp;#x53CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x3001;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x77E5;&amp;#x6653;&amp;#">
<meta name="twitter:image" content="http://birdmichael.com/wp-content/uploads/2015/08/singleton.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>IOS常见设计模式</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/archives/">Home</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2015/08/05/objective-cs-alloc-and-allocwithzone/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2015/08/04/static-local-variables-global-variables-extern-static-variables-instance-variables/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2015/08/04/23-design-patterns/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2015/08/04/23-design-patterns/&text=IOS常见设计模式"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2015/08/04/23-design-patterns/&is_video=false&description=IOS常见设计模式"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=IOS常见设计模式&body=Check out this article: http://yoursite.com/2015/08/04/23-design-patterns/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2015/08/04/23-design-patterns/&name=IOS常见设计模式&description=&lt;h2 id=&quot;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;a href=&quot;#&amp;#x4ECB;&amp;#x7ECD;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;/a&gt;&amp;#x4ECB;&amp;#x7ECD;&lt;/h2&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF08;Design Pattern&amp;#xFF09;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x88AB;&amp;#x53CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x3001;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x77E5;&amp;#x6653;&amp;#x7684;&amp;#x3001;&amp;#x7ECF;&amp;#x8FC7;&amp;#x5206;&amp;#x7C7B;&amp;#x7F16;&amp;#x76EE;&amp;#x7684;&amp;#x3001;&amp;#x4EE3;&amp;#x7801;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7ECF;&amp;#x9A8C;&amp;#x7684;&amp;#x603B;&amp;#x7ED3;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&amp;#x56FA;&amp;#x6709;&amp;#x6A21;&amp;#x5F0F;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x53EF;&amp;#x91CD;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x3001;&amp;#x8BA9;&amp;#x4EE3;&amp;#x7801;&amp;#x66F4;&amp;#x5BB9;&amp;#x6613;&amp;#x88AB;&amp;#x4ED6;&amp;#x4EBA;&amp;#x7406;&amp;#x89E3;&amp;#x3001;&amp;#x4FDD;&amp;#x8BC1;&amp;#x4EE3;&amp;#x7801;&amp;#x53EF;&amp;#x9760;&amp;#x6027;&amp;#x3002; &amp;#x6BEB;&amp;#x65E0;&amp;#x7591;&amp;#x95EE;&amp;#xFF0C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x4E8E;&amp;#x5DF1;&amp;#x4E8E;&amp;#x4ED6;&amp;#x4EBA;&amp;#x4E8E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x90FD;&amp;#x662F;&amp;#x591A;&amp;#x8D62;&amp;#x7684;&amp;#xFF1B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F7F;&amp;#x4EE3;&amp;#x7801;&amp;#x7F16;&amp;#x5236;&amp;#x771F;&amp;#x6B63;&amp;#x5DE5;&amp;#x7A0B;&amp;#x5316;&amp;#xFF1B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x7684;&amp;#x57FA;&amp;#x77F3;&amp;#x8109;&amp;#x7EDC;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x5C31;&amp;#x5982;&amp;#x540C;&amp;#x5EFA;&amp;#x7B51;&amp;#x4E2D;&amp;#x7684;&amp;#x5927;&amp;#x53A6;&amp;#x7684;&amp;#x7ED3;&amp;#x6784;&amp;#x4E00;&amp;#x822C;&amp;#x91CD;&amp;#x8981;&amp;#x6709;&amp;#x7CBE;&amp;#x901A;&amp;#x4E86;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x624D;&amp;#x6562;&amp;#x8BF4;&amp;#x771F;&amp;#x6B63;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BF4;&amp;#xFF0C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x67B6;&amp;#x6784;&amp;#x5E08;&amp;#x6240;&amp;#x5FC5;&amp;#x5907;&amp;#x7684;&amp;#x6280;&amp;#x80FD;&amp;#x4E4B;&amp;#x4E00;&amp;#x3002;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5458;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x7CBE;&amp;#x901A;&amp;#x4E86;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x6446;&amp;#x8131;&amp;#x7801;&amp;#x5974;&amp;#x7684;&amp;#x547D;&amp;#x8FD0;&amp;#xFF0C;&amp;#x6210;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x5E08;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x5B8C;&amp;#x6210;&amp;#x81EA;&amp;#x8EAB;&amp;#x4EF7;&amp;#x503C;&amp;#x7684;&amp;#x98DE;&amp;#x8DC3;&amp;#x548C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x601D;&amp;#x60F3;&amp;#x7684;&amp;#x5347;&amp;#x534E;&amp;#xFF01;&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;"><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设计模式的分类"><span class="toc-number">2.</span> <span class="toc-text">设计模式的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JAVA中的23设计模式"><span class="toc-number">2.1.</span> <span class="toc-text">JAVA中的23设计模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOS中常见8种设计模式"><span class="toc-number">2.2.</span> <span class="toc-text">IOS中常见8种设计模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#单例模式-Singleton"><span class="toc-number">3.</span> <span class="toc-text">单例模式(Singleton)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#介绍-1"><span class="toc-number">3.1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单例模式核心"><span class="toc-number">3.1.1.</span> <span class="toc-text">单例模式核心</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#单例模式意义"><span class="toc-number">3.1.2.</span> <span class="toc-text">单例模式意义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统中常见的单例模式"><span class="toc-number">3.2.</span> <span class="toc-text">系统中常见的单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UIAccelerometer"><span class="toc-number">3.2.1.</span> <span class="toc-text">UIAccelerometer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIApplication"><span class="toc-number">3.2.2.</span> <span class="toc-text">UIApplication</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSBundle"><span class="toc-number">3.2.3.</span> <span class="toc-text">NSBundle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSFileManager"><span class="toc-number">3.2.4.</span> <span class="toc-text">NSFileManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSNotificationCenter"><span class="toc-number">3.2.5.</span> <span class="toc-text">NSNotificationCenter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSUserDefaults"><span class="toc-number">3.2.6.</span> <span class="toc-text">NSUserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单例模式代码"><span class="toc-number">3.3.</span> <span class="toc-text">单例模式代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初级代码-使用懒汉式"><span class="toc-number">3.3.1.</span> <span class="toc-text">初级代码-使用懒汉式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-保证永远只alloc一次"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">1.保证永远只alloc一次</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-规范代码-实现shared或者defaults方法"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">3.规范代码,实现shared或者defaults方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#高级代码-简化代码及宏实现-lt-推荐"><span class="toc-number">3.3.2.</span> <span class="toc-text">高级代码- 简化代码及宏实现&lt;推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-编写-h宏文件"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">1.编写.h宏文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-使用宏"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">2.使用宏</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#h中"><span class="toc-number">3.3.2.2.1.</span> <span class="toc-text">.h中</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#m中"><span class="toc-number">3.3.2.2.2.</span> <span class="toc-text">.m中</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        IOS常见设计模式
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">BirdMichael</span>
      </span>
      
    <div class="postdate">
        <time datetime="2015-08-04T15:13:34.000Z" itemprop="datePublished">2015-08-04</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="&#x4ECB;&#x7ECD;"><a href="#&#x4ECB;&#x7ECD;" class="headerlink" title="&#x4ECB;&#x7ECD;"></a>&#x4ECB;&#x7ECD;</h2><p>&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF08;Design Pattern&#xFF09;&#xFF0C;&#x662F;&#x4E00;&#x5957;&#x88AB;&#x53CD;&#x590D;&#x4F7F;&#x7528;&#x3001;&#x591A;&#x6570;&#x4EBA;&#x77E5;&#x6653;&#x7684;&#x3001;&#x7ECF;&#x8FC7;&#x5206;&#x7C7B;&#x7F16;&#x76EE;&#x7684;&#x3001;&#x4EE3;&#x7801;&#x8BBE;&#x8BA1;&#x7ECF;&#x9A8C;&#x7684;&#x603B;&#x7ED3;&#x51FA;&#x6765;&#x7684;&#x56FA;&#x6709;&#x6A21;&#x5F0F;&#x3002;&#x4F7F;&#x7528;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x662F;&#x4E3A;&#x4E86;&#x53EF;&#x91CD;&#x7528;&#x4EE3;&#x7801;&#x3001;&#x8BA9;&#x4EE3;&#x7801;&#x66F4;&#x5BB9;&#x6613;&#x88AB;&#x4ED6;&#x4EBA;&#x7406;&#x89E3;&#x3001;&#x4FDD;&#x8BC1;&#x4EE3;&#x7801;&#x53EF;&#x9760;&#x6027;&#x3002; &#x6BEB;&#x65E0;&#x7591;&#x95EE;&#xFF0C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4E8E;&#x5DF1;&#x4E8E;&#x4ED6;&#x4EBA;&#x4E8E;&#x7CFB;&#x7EDF;&#x90FD;&#x662F;&#x591A;&#x8D62;&#x7684;&#xFF1B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x4F7F;&#x4EE3;&#x7801;&#x7F16;&#x5236;&#x771F;&#x6B63;&#x5DE5;&#x7A0B;&#x5316;&#xFF1B;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x662F;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x7684;&#x57FA;&#x77F3;&#x8109;&#x7EDC;.</p>
<blockquote>
<p>&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C31;&#x5982;&#x540C;&#x5EFA;&#x7B51;&#x4E2D;&#x7684;&#x5927;&#x53A6;&#x7684;&#x7ED3;&#x6784;&#x4E00;&#x822C;&#x91CD;&#x8981;&#x6709;&#x7CBE;&#x901A;&#x4E86;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x624D;&#x6562;&#x8BF4;&#x771F;&#x6B63;&#x7406;&#x89E3;&#x4E86;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x662F;&#x6BCF;&#x4E00;&#x4E2A;&#x67B6;&#x6784;&#x5E08;&#x6240;&#x5FC5;&#x5907;&#x7684;&#x6280;&#x80FD;&#x4E4B;&#x4E00;&#x3002;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x7A0B;&#x5E8F;&#x5458;&#xFF0C;&#x53EA;&#x6709;&#x7CBE;&#x901A;&#x4E86;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x624D;&#x80FD;&#x6446;&#x8131;&#x7801;&#x5974;&#x7684;&#x547D;&#x8FD0;&#xFF0C;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;&#x8F6F;&#x4EF6;&#x5DE5;&#x7A0B;&#x5E08;&#xFF0C;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x81EA;&#x8EAB;&#x4EF7;&#x503C;&#x7684;&#x98DE;&#x8DC3;&#x548C;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#x7684;&#x5347;&#x534E;&#xFF01;<br><a id="more"></a></p>
</blockquote>
<h2 id="&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x5206;&#x7C7B;"><a href="#&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x5206;&#x7C7B;" class="headerlink" title="&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x5206;&#x7C7B;"></a>&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x5206;&#x7C7B;</h2><p>&#x603B;&#x4F53;&#x6765;&#x8BF4;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5206;&#x4E3A;&#x4E09;&#x5927;&#x7C7B;&#xFF1A;</p>
<p>&#x521B;&#x5EFA;&#x578B;&#x6A21;&#x5F0F;&#xFF08;Creational&#xFF09;</p>
<p>&#x7ED3;&#x6784;&#x578B;&#x6A21;&#x5F0F;&#xFF08;Structural&#xFF09;</p>
<p>&#x884C;&#x4E3A;&#x578B;&#x6A21;&#x5F0F;&#xFF08;Behavioral&#xFF09;</p>
<h3 id="JAVA&#x4E2D;&#x7684;23&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><a href="#JAVA&#x4E2D;&#x7684;23&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;" class="headerlink" title="JAVA&#x4E2D;&#x7684;23&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"></a>JAVA&#x4E2D;&#x7684;23&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h3><table style="height: 684px;" border="1" width="100%" cellspacing="0" cellpadding="5"><br><tbody><br><tr><br><td colspan="3" width="100%"><br><br><strong>JAVA&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</strong><br><br>Design Pattern<br><br></td><br></tr><br><tr><br><td width="60"><br><br><strong>&#x521B;&#x5EFA;&#x578B;</strong><br><br>Creational<br><br></td><br><td width="160"><br><br><strong>&#x7ED3;&#x6784;&#x578B;</strong><br><br>Structural<br><br></td><br><td><br><br><strong>&#x884C;&#x4E3A;&#x578B;</strong><br><br>Behavioral<br><br></td><br></tr><br><tr><br><td valign="top">Abstract Factory(&#x62BD;&#x8C61;&#x5DE5;&#x5382;)Builder(&#x5EFA;&#x9020;&#x8005;)Factory Method(&#x5DE5;&#x5382;&#x65B9;&#x6CD5;)Prototype(&#x539F;&#x578B;)Singleton(&#x5355;&#x6001;)<wbr><br><br><wbr><br><br><wbr><br><br><wbr><br><br><wbr><br><br><wbr><br><br><wbr></td><br><td valign="top">Adapter(&#x9002;&#x914D;&#x5668;)Bridge(&#x6865;&#x6A21;&#x5F0F;)Composite(&#x7EC4;&#x5408;)Decorator(&#x88C5;&#x9970;)Fa&#xE7;ade(&#x5916;&#x89C2;)Flyweight(&#x4EAB;&#x5143;)<br><br>Proxy(&#x4EE3;&#x7406;)</td><br><td valign="top">Chain of Responsibility(&#x804C;&#x8D23;&#x94FE;)Command(&#x547D;&#x4EE4;)Interpreter(&#x89E3;&#x91CA;&#x5668;)Iterator(&#x8FED;&#x4EE3;&#x5668;)Mediator(&#x4E2D;&#x4ECB;)Memento(&#x5907;&#x5FD8;&#x5F55;)<br><br>Observer(&#x89C2;&#x5BDF;&#x8005;)<br><br>State(&#x72B6;&#x6001;)<br><br>Strategy(&#x7B56;&#x7565;)<br><br>Template Method(&#x6A21;&#x677F;&#x65B9;&#x6CD5;)<br><br>Visitor(&#x8BBF;&#x95EE;&#x8005;)</td><br></tr><br></tbody><br></table>

<h3 id="IOS&#x4E2D;&#x5E38;&#x89C1;8&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"><a href="#IOS&#x4E2D;&#x5E38;&#x89C1;8&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;" class="headerlink" title="IOS&#x4E2D;&#x5E38;&#x89C1;8&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;"></a>IOS&#x4E2D;&#x5E38;&#x89C1;8&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h3><p><table border="1" width="100%" cellspacing="0" cellpadding="5"></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<td colspan="3" width="100%">

<p><strong>ios&#x5E38;&#x89C1;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</strong></p>
<p>Design Pattern</p>
<p></p></td><br><p></p>
<p><tr></tr></p>
<td width="60">

<p><strong>&#x521B;&#x5EFA;&#x578B;</strong></p>
<p>Creational</p>
<p></p></td><p></p>
<td width="160">

<p><strong>&#x7ED3;&#x6784;&#x578B;</strong></p>
<p>Structural</p>
<p></p></td><p></p>
<td>

<p><strong>&#x884C;&#x4E3A;&#x578B;</strong></p>
<p>Behavioral</p>
<p></p></td><br><p></p>
<p><tr></tr></p>
<p><td valign="top">&#x5355;&#x4F8B;&#x6A21;&#x5F0F;(Singleton)</td></p>
<p><td valign="top">MVC&#x6A21;&#x5F0F;(Model View Controller)&#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F; (Decorator)&#x9002;&#x914D;&#x5668;&#x6A21;&#x5F0F;(Adapter)&#x5916;&#x89C2;&#x6A21;&#x5F0F; (Facade)</td></p>
<p><td valign="top">&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;(Observer){KVO(Key-Value-Observing)&#x673A;&#x5236;&#x901A;&#x77E5;(notification)&#x673A;&#x5236;}&#x5907;&#x5FD8;&#x5F55;&#x6A21;&#x5F0F;(Memento)</td><br><br><br><br>&#x672C;&#x6587;&#x91CD;&#x70B9;&#x4EE5;IOS&#x5E38;&#x89C1;&#x6D89;&#x53CA;&#x6A21;&#x5F0F;&#x4E3A;&#x4F8B;. &#x66F4;&#x591A;&#x6D89;&#x53CA;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x53C2;&#x8003;:<a href="http://download.csdn.net/download/sunboy_2050/4228807" target="_blank" rel="noopener">&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F; - &#x53EF;&#x590D;&#x7528;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8F6F;&#x4EF6;&#x7684;&#x57FA;&#x7840;</a></p>
<h2 id="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;-Singleton"><a href="#&#x5355;&#x4F8B;&#x6A21;&#x5F0F;-Singleton" class="headerlink" title="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;(Singleton)"></a>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;(Singleton)</h2><h3 id="&#x4ECB;&#x7ECD;-1"><a href="#&#x4ECB;&#x7ECD;-1" class="headerlink" title="&#x4ECB;&#x7ECD;"></a>&#x4ECB;&#x7ECD;</h3><p>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x662F;IOS&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5F53;&#x4E2D;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x5728;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x7ED3;&#x6784;&#x4E2D;&#x53EA;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x88AB;&#x79F0;&#x4E3A;&#x5355;&#x4F8B;&#x7C7B;&#x7684;&#x7279;&#x6B8A;&#x7C7B;(&#x786E;&#x4FDD;&#x6BCF;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x7C7B;&#x53EA;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;)&#x3002;&#x901A;&#x8FC7;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E00;&#x4E2A;&#x7C7B;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x800C;&#x4E14;&#x8BE5;&#x5B9E;&#x4F8B;&#x6613;&#x4E8E;&#x5916;&#x754C;&#x8BBF;&#x95EE;&#xFF0C;&#x4ECE;&#x800C;&#x65B9;&#x4FBF;&#x5BF9;&#x5B9E;&#x4F8B;&#x4E2A;&#x6570;&#x7684;&#x63A7;&#x5236;&#x5E76;&#x8282;&#x7EA6;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x3002;</p>
<p><a href="http://birdmichael.com/wp-content/uploads/2015/08/singleton.jpg" target="_blank" rel="noopener"><img src="http://birdmichael.com/wp-content/uploads/2015/08/singleton.jpg" alt="singleton"></a></p>
<h4 id="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x6838;&#x5FC3;"><a href="#&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x6838;&#x5FC3;" class="headerlink" title="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x6838;&#x5FC3;"></a>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x6838;&#x5FC3;</h4><p>&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x53EA;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x521D;&#x59CB;&#x5316;&#x3002;</p>
<h4 id="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x610F;&#x4E49;"><a href="#&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x610F;&#x4E49;" class="headerlink" title="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x610F;&#x4E49;"></a>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x610F;&#x4E49;</h4><p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x67D0;&#x4E2A;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#xFF0C;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x662F;&#x6700;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</p>
<blockquote>
<p>&#x6BD4;&#x5982;&#x4F60;&#x751F;&#x6D3B;&#x5728;&#x53E4;&#x4EE3;,&#x4F60;&#x6709;&#x51E0;&#x5341;&#x4E2A;&#x8001;&#x5A46;,&#x5979;&#x4EEC;&#x7684;&#x8001;&#x516C;&#x90FD;&#x662F;&#x4F60;,&#x4F60;&#x5C31;&#x662F;&#x4F60;&#x4EEC;&#x6574;&#x4E2A;&#x5BB6;&#x7684;&#x8001;&#x516C;Sigleton,&#x5979;&#x4EEC;&#x53EA;&#x8981;&#x8BF4;&#x9053;&#x201C;&#x8001;&#x516C;&#x201D;,&#x90FD;&#x662F;&#x6307;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x4EBA;,&#x90A3;&#x5C31;&#x90FD;&#x662F;&#x4F60;.</p>
</blockquote>
<h3 id="&#x7CFB;&#x7EDF;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;"><a href="#&#x7CFB;&#x7EDF;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;" class="headerlink" title="&#x7CFB;&#x7EDF;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;"></a>&#x7CFB;&#x7EDF;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;</h3><p>&#x5728;iOS&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x78B0;&#x5230;&#x53EA;&#x9700;&#x8981;&#x67D0;&#x7C7B;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x60C5;&#x51B5;,&#x4F60;&#x7684;&#x5E94;&#x7528;&#x5B9E;&#x4F8B;(UIApplication)&#x5FC5;&#x987B;&#x6709;&#x4E14;&#x53EA;&#x6709;&#x4E00;&#x4E2A;,&#x4E0D;&#x7136;&#x4F60;&#x662F;&#x65E0;&#x6CD5;&#x5B9E;&#x884C;&#x63A7;&#x5236;&#x7684;,&#x5E76;&#x4E14;&#x6C38;&#x8FDC;&#x6307;&#x4F60;&#x7684;&#x5F53;&#x524D;&#x5E94;&#x7528;.&#x6700;&#x5E38;&#x89C1;&#x7684;&#x8FD8;&#x662F;&#x83AB;&#x8FC7;&#x4E8E;&#x5BF9;&#x786C;&#x4EF6;&#x53C2;&#x6570;&#x7684;&#x8BBF;&#x95EE;&#x7C7B;,&#x6BD4;&#x5982;UIAccelerometer.&#x8FD9;&#x4E2A;&#x7C7B;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x83B7;&#x5F97;&#x786C;&#x4EF6;&#x5728;&#x5404;&#x4E2A;&#x65B9;&#x5411;&#x8F74;&#x4E0A;&#x7684;&#x52A0;&#x901F;&#x5EA6;,&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5C31;&#x591F;&#x4E86;,&#x518D;&#x591A;&#x53EA;&#x4F1A;&#x6D6A;&#x8D39;&#x5185;&#x5B58;.</p>
<h4 id="UIAccelerometer"><a href="#UIAccelerometer" class="headerlink" title="UIAccelerometer"></a>UIAccelerometer</h4><p>&#x5B9E;&#x4F8B;&#x5316;&#x65B9;&#x6CD5;&#xFF0B;sharedAccelerometer,&#x4ECE;&#x540D;&#x5B57;&#x4E0A;&#x6211;&#x4EEC;&#x4E5F;&#x80FD;&#x770B;&#x51FA;&#x6B64;&#x65B9;&#x6CD5;&#x8BA9;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;UIAccelerometer&#x5B9E;&#x4F8B;&#xFF08;PS&#xFF1A;iOS &#x7684;&#x5F00;&#x653E;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x80FD;&#x4ECE;&#x65B9;&#x6CD5;&#x540D;&#x4E2D;&#x5C31;&#x4E86;&#x89E3;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x4F5C;&#x7528;&#xFF09;</p>
<h4 id="UIApplication"><a href="#UIApplication" class="headerlink" title="UIApplication"></a>UIApplication</h4><p>&#x63D0;&#x4F9B;&#x4E86; &#xFF0B;sharedAPplication&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x53D6;UIApplication&#x5355;&#x4F8B;</p>
<h4 id="NSBundle"><a href="#NSBundle" class="headerlink" title="NSBundle"></a>NSBundle</h4><p>&#x63D0;&#x4F9B;&#x4E86; +mainBunle&#x65B9;&#x6CD5;&#x83B7;&#x53D6;NSBundle&#x5355;&#x4F8B;</p>
<h4 id="NSFileManager"><a href="#NSFileManager" class="headerlink" title="NSFileManager"></a>NSFileManager</h4><p>&#x63D0;&#x4F9B;&#x4E86; &#xFF0B;defaultManager&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x5F97;NSFileManager&#x5355;&#x4F8B;&#x3002;&#xFF08;PS&#xFF1A;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5F97;&#x653E;&#x5F03;&#x4F7F;&#x7528;&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#xFF0C;&#x4F7F;&#x7528;&#xFF0D;init&#x65B9;&#x6CD5;&#x53BB;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528;&#x59D4;&#x6258;&#x65F6;&#xFF09;</p>
<h4 id="NSNotificationCenter"><a href="#NSNotificationCenter" class="headerlink" title="NSNotificationCenter"></a>NSNotificationCenter</h4><p>&#x63D0;&#x4F9B;&#x4E86; &#xFF0B;defaultCenter&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x53D6;NSNotificationCenter&#x5355;&#x4F8B;&#xFF08;PS&#xFF1A;&#x8BE5;&#x7C7B;&#x8FD8;&#x9075;&#x5FAA;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF1A;&#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#xFF09;</p>
<h4 id="NSUserDefaults"><a href="#NSUserDefaults" class="headerlink" title="NSUserDefaults"></a>NSUserDefaults</h4><p>&#x63D0;&#x4F9B;&#x4E86; &#xFF0B;defaultUserDefaults&#x65B9;&#x6CD5;&#x53BB;&#x521B;&#x5EFA;&#x548C;&#x83B7;&#x53D6;NSUserDefaults&#x5355;&#x4F8B;</p>
<blockquote>
<p>&#x6240;&#x4EE5;&#x82F9;&#x679C;&#x7684;SDK&#x4E2D;&#x5927;&#x91CF;&#x7684;&#x9075;&#x5FAA;&#x6B64;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x5185;&#x90E8;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x5462;?</p>
</blockquote>
<h3 id="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x4EE3;&#x7801;"><a href="#&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x4EE3;&#x7801;" class="headerlink" title="&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x4EE3;&#x7801;"></a>&#x5355;&#x4F8B;&#x6A21;&#x5F0F;&#x4EE3;&#x7801;</h3><p>&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x5355;&#x4F8B;&#x7C7B;:&#x97F3;&#x4E50;&#x64AD;&#x653E;&#x5668;.</p>
<h4 id="&#x521D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;&#x61D2;&#x6C49;&#x5F0F;"><a href="#&#x521D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;&#x61D2;&#x6C49;&#x5F0F;" class="headerlink" title="&#x521D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;&#x61D2;&#x6C49;&#x5F0F;"></a>&#x521D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;&#x61D2;&#x6C49;&#x5F0F;</h4><p>&#x56E0;&#x4E3A;&#x4E3B;&#x8981;&#x4F53;&#x73B0;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#x7684;&#x601D;&#x60F3;,&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x5199;&#x7684;&#x6BD4;&#x8F83;&#x7EC6;.</p>
<h5 id="1-&#x4FDD;&#x8BC1;&#x6C38;&#x8FDC;&#x53EA;alloc&#x4E00;&#x6B21;"><a href="#1-&#x4FDD;&#x8BC1;&#x6C38;&#x8FDC;&#x53EA;alloc&#x4E00;&#x6B21;" class="headerlink" title="1.&#x4FDD;&#x8BC1;&#x6C38;&#x8FDC;&#x53EA;alloc&#x4E00;&#x6B21;"></a>1.&#x4FDD;&#x8BC1;&#x6C38;&#x8FDC;&#x53EA;alloc&#x4E00;&#x6B21;</h5><pre class="lang:objc decode:true">//
//  BMMusicTool.m
//
//  Created by &#x674E; &#x9633; on 15/8/5.
//  Copyright (c) 2015&#x5E74; BirdMIchael. All rights reserved.
//

#import &quot;BMMusicTool.h&quot;

@implementation BMMusicTool
static BMMusicTool *_musicTool;  // &#x5F15;&#x5165;&#x5168;&#x5C40;&#x53D8;&#x91CF;,&#x76EE;&#x7684;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;,&#x5E76;&#x4F7F;&#x7528;static&#x4FEE;&#x9970;

+ (instancetype)allocWithZone:(struct _NSZone *)zone
{
    // &#x5224;&#x65AD;&#x5982;&#x679C;_musicTool&#x5982;&#x679C;&#x6709;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;(&#x6C38;&#x8FDC;&#x53EA;allocWithZone:&#x4E00;&#x6B21;)
    if (!_musicTool) {
        _musicTool = [super allocWithZone:zone];
    }

    return _musicTool;
}

@end</pre>
&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F;<span class="s1">allocWithZone</span><span class="s2">:&#x65B9;&#x6CD5;,&#x5177;&#x4F53;&#x539F;&#x56E0;&#x8BF7;&#x89C1;:</span>[[Objective-C &#x91CC;&#x7684; alloc &#x548C; allocWithZone:]](http://birdmichael.com/index.php/2015/08/05/objective-cs-alloc-and-allocwithzone.html)

&#x5173;&#x4E8E;&#x4F7F;&#x7528;static&#x4FEE;&#x9970;&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x89C1;:[[&#x9759;&#x53D8;&#x91CF;static&#x3001;&#x5168;&#x5C40;&#x53D8;&#x91CF;extern&#x3001;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x3001;&#x5B9E;&#x4F8B;&#x53D8;&#x91CF;]](http://birdmichael.com/index.php/2015/08/04/static-local-variables-global-variables-extern-static-variables-instance-variables.html)

##### 2.&#x4FDD;&#x8BC1;&#x591A;&#x7EBF;&#x7A0B;&#x53EA;alloc&#x4E00;&#x6B21;

<pre class="lang:objc decode:true ">+ (instancetype)allocWithZone:(struct _NSZone *)zone
{
    if (!_musicTool) {  // &#x9632;&#x6B62;&#x9891;&#x7E41;&#x52A0;&#x9501;
        // &#x591A;&#x7EBF;&#x7A0B;&#x52A0;&#x9501;
        @synchronized(self){
            // &#x5224;&#x65AD;&#x5982;&#x679C;_musicTool&#x5982;&#x679C;&#x6709;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;(&#x6C38;&#x8FDC;&#x53EA;allocWithZone:&#x4E00;&#x6B21;)
            if (!_musicTool) {  // &#x9632;&#x6B62;&#x591A;&#x6B21;&#x521B;&#x5EFA;
            _musicTool = [super allocWithZone:zone];
            }
        }
    }
    return _musicTool;
}</pre>

<h5 id="3-&#x89C4;&#x8303;&#x4EE3;&#x7801;-&#x5B9E;&#x73B0;shared&#x6216;&#x8005;defaults&#x65B9;&#x6CD5;"><a href="#3-&#x89C4;&#x8303;&#x4EE3;&#x7801;-&#x5B9E;&#x73B0;shared&#x6216;&#x8005;defaults&#x65B9;&#x6CD5;" class="headerlink" title="3.&#x89C4;&#x8303;&#x4EE3;&#x7801;,&#x5B9E;&#x73B0;shared&#x6216;&#x8005;defaults&#x65B9;&#x6CD5;"></a>3.&#x89C4;&#x8303;&#x4EE3;&#x7801;,&#x5B9E;&#x73B0;shared&#x6216;&#x8005;defaults&#x65B9;&#x6CD5;</h5><pre class="lang:objc decode:true">+ (instancetype)sharedMuiscTool
{
    if (!_musicTool) {  // &#x9632;&#x6B62;&#x9891;&#x7E41;&#x52A0;&#x9501;
        @synchronized(self){
            // &#x5224;&#x65AD;&#x5982;&#x679C;_musicTool&#x5982;&#x679C;&#x6709;&#x503C;&#x5C31;alloc&#x4E00;&#x6B21;.(&#x907F;&#x514D;&#x5728;&#x6CA1;allow&#x5F97;&#x65F6;&#x5019;&#x8C03;&#x7528;shared)

            if (!_musicTool) { // &#x9632;&#x6B62;&#x521B;&#x5EFA;&#x591A;&#x6B21;
                _musicTool = [[self alloc]init];
            }
        }
    }

    return _musicTool;
}</pre>
&gt; &#x63D0;&#x793A;:&#x8FD9;&#x91CC;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;<span class="s1">[[</span><span class="s2">self</span> <span class="s3">alloc</span><span class="s1">]</span><span class="s3">init</span><span class="s1">],&#x4E0D;&#x7136;&#x6BCF;&#x62FF;&#x5230;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x4F1A;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x6B21;.</span>

##### 4.&#x4FDD;&#x8BC1;copy&#x540E;&#x4E5F;&#x662F;&#x5355;&#x4F8B;.

<pre class="lang:objc decode:true">// &#x6B64;&#x65B9;&#x6CD5;&#x4E3A;&#x9884;&#x7559;&#x65B9;&#x6CD5;,&#x5728;&#x672A;&#x6765;&#x5982;&#x679C;&#x4F7F;&#x7528;copy&#x65B9;&#x6CD5;&#x4E5F;&#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x65B0;&#x5BF9;&#x8C61;.
- (id)copyWithZone:(NSZone *)zone
{
    return _musicTool;
}</pre>
&gt; &#x63D0;&#x793A;:&#x80FD;copy&#x5C31;&#x4FDD;&#x8BC1;&#x518D;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x8FD8;&#x6709;&#x5355;&#x4F8B;&#x5BF9;&#x8C61;,&#x6240;&#x4EE5;&#x4E0D;&#x7528;&#x5224;&#x65AD;_musicTool&#x662F;&#x5426;&#x4E3A;&#x7A7A;.

#### <del>&#x521D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;&#x997F;&#x6C49;&#x5F0F;</del>

<pre class="lang:objc decode:true">#import &quot;BMMusicTool.h&quot;

@implementation BMMusicTool
static BMMusicTool *_musicTool;  // &#x5F15;&#x5165;&#x5168;&#x5C40;&#x53D8;&#x91CF;,&#x76EE;&#x7684;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;,&#x5E76;&#x4F7F;&#x7528;static&#x4FEE;&#x9970;
+ (void)load
{
    _musicTool = [[self alloc]init];
}

+ (instancetype)allocWithZone:(struct _NSZone *)zone
{

    // &#x5224;&#x65AD;&#x5982;&#x679C;_musicTool&#x5982;&#x679C;&#x6709;&#x503C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;(&#x6C38;&#x8FDC;&#x53EA;allocWithZone:&#x4E00;&#x6B21;)
    if (!_musicTool) {  // &#x9632;&#x6B62;&#x591A;&#x6B21;&#x521B;&#x5EFA;
        _musicTool = [super allocWithZone:zone];
    }

    return _musicTool;
}
+ (instancetype)sharedMuiscTool
{
    return _musicTool;
}
- (id)copyWithZone:(NSZone *)zone
{
    return _musicTool;
}

@end</pre>
&#x5173;&#x4E8E;&#x4F7F;&#x7528;loade&#x800C;&#x4E0D;&#x4F7F;&#x7528;initialize&#x67E5;&#x770B;&#x6B64;&#x6587;&#x6709;&#x8BE6;&#x7EC6;&#x89E3;&#x91CA;:[[Objective-C &#x7C7B;&#x7684;&#x52A0;&#x8F7D;&#x548C;&#x521D;&#x59CB;&#x5316;(+load &#x548C; +initialize &#x65B9;&#x6CD5;) ]](http://birdmichael.com/index.php/2015/08/05/loading-and-initialization-of-the-objective-c-class-load-and-initialize.html)
&gt; &#x6240;&#x8C13;&#x997F;&#x6C49;&#x5F0F;&#x5C31;&#x662F;&#x7A0B;&#x5E8F;&#x4E00;&#x5F00;&#x59CB;&#x8FD0;&#x884C;&#x5C31;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x521B;&#x5EFA;.
&gt; 
&gt; 
&gt; &#x56E0;&#x4E3A;&#x521B;&#x5EFA;&#x65F6;&#x5728;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x65F6;,&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0D;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FDB;&#x6765;&#x521B;&#x5EFA;,&#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x52A0;&#x9501;.&#x5E76;&#x4E14;&#x8C03;&#x7528;shared&#x65F6;,&#x80AF;&#x5B9A;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x540E;.
<span style="color: #ff0000;">**&#x997F;&#x6C49;&#x5F0F;&#x51E0;&#x4E4E;&#x5B8C;&#x5168;&#x4E0D;&#x7528;.**</span>

#### &#x4E2D;&#x7EA7;&#x4EE3;&#x7801;-&#x4F7F;&#x7528;GCD

<pre class="lang:objc decode:true ">#import &quot;BMMusicTool.h&quot;

@implementation BMMusicTool
static BMMusicTool *_musicTool;  // &#x5F15;&#x5165;&#x5168;&#x5C40;&#x53D8;&#x91CF;,&#x76EE;&#x7684;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;,&#x5E76;&#x4F7F;&#x7528;static&#x4FEE;&#x9970;
+ (void)load
{
    _musicTool = [[self alloc]init];
}

+ (instancetype)allocWithZone:(struct _NSZone *)zone
{
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        _musicTool = [super allocWithZone:zone];
    });
    return _musicTool;
}
+ (instancetype)sharedMuiscTool
{
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        _musicTool = [[self alloc]init];
    });

    return _musicTool;
}
- (id)copyWithZone:(NSZone *)zone
{
    return _musicTool;
}</pre>
&gt; GCD&#x9ED8;&#x8BA4;dispatch_once&#x53EA;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x6B21;,&#x5E76;&#x4E14;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;.&#x66F4;&#x591A;&#x53EF;&#x4EE5;&#x53C2;&#x8003;[[ios&#x591A;&#x7EBF;&#x7A0B;&#x4E4B;NSThread,GCD,NSOperation&#x4EE5;&#x53CA;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;]](http://birdmichael.com/index.php/2015/07/31/ios-multi-thread-nsthreadgcdnsoperation-and-thread-synchronization.html) &#x4E2D;GCD-&#x4E00;&#x6B21;&#x6027;.

#### &#x4E2D;&#x7EA7;&#x4EE3;&#x7801;- MRC&#x73AF;&#x5883;

<pre class="lang:objc decode:true">#import &quot;BMMusicTool.h&quot;

@implementation BMMusicTool
static BMMusicTool *_musicTool;  // &#x5F15;&#x5165;&#x5168;&#x5C40;&#x53D8;&#x91CF;,&#x76EE;&#x7684;&#x662F;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;,&#x5E76;&#x4F7F;&#x7528;static&#x4FEE;&#x9970;
+ (void)load
{
    _musicTool = [[self alloc]init];
}

+ (instancetype)allocWithZone:(struct _NSZone *)zone
{
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        _musicTool = [super allocWithZone:zone];
    });
    return _musicTool;
}
+ (instancetype)sharedMuiscTool
{
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        _musicTool = [[self alloc]init];
    });

    return _musicTool;
}
- (id)copyWithZone:(NSZone *)zone
{
    return _musicTool;
}
-(oneway void)release
{
    // Do nothing
}
- (instancetype)retain
{
    return self;
}
-(NSUInteger)retainCount
{
    return 1;
}
- (instancetype)autorelease
{
    return self;
}
@end</pre>
&gt; &#x975E;ARC&#x73AF;&#x5883;&#x7684;&#x6838;&#x5FC3;&#x5C31;&#x662F;:1.&#x4E0D;release 2.&#x4E0D;retain 3.retain&#x8BA1;&#x6570;&#x5668;&#x6052;&#x4E3A;1.
&#x9002;&#x914D;ARC&#x548C;MRC
<pre class="lang:objc decode:true">#if __has_feature(objc_arc)

// ARC

#else

// MRC

#endif</pre>

<h4 id="&#x9AD8;&#x7EA7;&#x4EE3;&#x7801;-&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x53CA;&#x5B8F;&#x5B9E;&#x73B0;-lt-&#x63A8;&#x8350;"><a href="#&#x9AD8;&#x7EA7;&#x4EE3;&#x7801;-&#x7B80;&#x5316;&#x4EE3;&#x7801;&#x53CA;&#x5B8F;&#x5B9E;&#x73B0;-lt-&#x63A8;&#x8350;" class="headerlink" title="&#x9AD8;&#x7EA7;&#x4EE3;&#x7801;- &#x7B80;&#x5316;&#x4EE3;&#x7801;&#x53CA;&#x5B8F;&#x5B9E;&#x73B0;&lt;&#x63A8;&#x8350;"></a>&#x9AD8;&#x7EA7;&#x4EE3;&#x7801;- &#x7B80;&#x5316;&#x4EE3;&#x7801;&#x53CA;&#x5B8F;&#x5B9E;&#x73B0;&lt;&#x63A8;&#x8350;</h4><h5 id="1-&#x7F16;&#x5199;-h&#x5B8F;&#x6587;&#x4EF6;"><a href="#1-&#x7F16;&#x5199;-h&#x5B8F;&#x6587;&#x4EF6;" class="headerlink" title="1.&#x7F16;&#x5199;.h&#x5B8F;&#x6587;&#x4EF6;"></a>1.&#x7F16;&#x5199;.h&#x5B8F;&#x6587;&#x4EF6;</h5><p>&#x547D;&#x540D;&#x4E3A;:<span class="s1">BMSingleton.h</span></p>
<pre class="lang:objc decode:true">//
//  BMSingleton.h
//
//  Created by &#x674E; &#x9633; on 15/8/5.
//  Copyright (c) 2015&#x5E74; BirdMIchael. All rights reserved.
//

/*
 .h &#x5F15;&#x7528;
 **/
#define BMSingletonH(name) + (instancetype)shared##name;
/*
 .m &#x5F15;&#x7528;
 **/

#if __has_feature(objc_arc)

// ARC
#define BMSingletonM(name) \
static id _instance; \
\
+ (void)load \
{ \
_instance = [[self alloc]init]; \
} \
\
+ (instancetype)allocWithZone:(struct _NSZone *)zone \
{ \
static dispatch_once_t onceToken; \
dispatch_once(&amp;onceToken, ^{ \
_instance = [super allocWithZone:zone]; \
}); \
return _instance; \
} \
+ (instancetype)shared##name \
{ \
static dispatch_once_t onceToken; \
dispatch_once(&amp;onceToken, ^{ \
_instance = [[self alloc]init]; \
}); \
\
return _instance; \
} \
- (id)copyWithZone:(NSZone *)zone \
{ \
return _instance; \
}
// ARC&#x7ED3;&#x675F;

#else

// MRC
#define BMSingletonM(name) \
static id _instance; \
\
+ (void)load \
{ \
_instance = [[self alloc]init]; \
} \
\
+ (instancetype)allocWithZone:(struct _NSZone *)zone \
{ \
static dispatch_once_t onceToken; \
dispatch_once(&amp;onceToken, ^{ \
_instance = [super allocWithZone:zone]; \
}); \
return _instance; \
} \
+ (instancetype)shared##name \
{ \
static dispatch_once_t onceToken; \
dispatch_once(&amp;onceToken, ^{ \
_instance = [[self alloc]init]; \
}); \
\
return _instance; \
} \
- (id)copyWithZone:(NSZone *)zone \
{ \
return _instance; \
} \
- (instancetype)autorelease{return self;} \
- (oneway void)release{ } \
- (instancetype)retain{return self;} \
- (NSUInteger)retainCount{return 1;}
// MRC&#x7ED3;&#x675F;

#endif</pre>

<h5 id="2-&#x4F7F;&#x7528;&#x5B8F;"><a href="#2-&#x4F7F;&#x7528;&#x5B8F;" class="headerlink" title="2.&#x4F7F;&#x7528;&#x5B8F;"></a>2.&#x4F7F;&#x7528;&#x5B8F;</h5><h6 id="h&#x4E2D;"><a href="#h&#x4E2D;" class="headerlink" title=".h&#x4E2D;"></a>.h&#x4E2D;</h6><pre class="lang:objc decode:true ">#import &lt;Foundation/Foundation.h&gt;
#import &quot;BMSingleton.h&quot;

@interface BMMusicTool : NSObject
BMSingletonH(MusicTool)
@end</pre>

<h6 id="m&#x4E2D;"><a href="#m&#x4E2D;" class="headerlink" title=".m&#x4E2D;"></a>.m&#x4E2D;</h6><p><pre class="lang:objc decode:true ">#import &#x201C;BMMusicTool.h&#x201D;</pre></p>
<p>@implementation BMMusicTool<br>BMSingletonM(MusicTool)<br>@end</p>
<blockquote>
<p>&#x63D0;&#x793A;:<span class="s1">BMSingletonH&#x548C;</span><span class="s1">BMSingletonM&#x4F20;&#x5165;&#x7684;<span style="color: #ff0000;">name&#x5207;&#x8BB0;&#x4E00;&#x6837;</span></span><br>&#x8FD9;&#x6837;&#x53EA;&#x9700;&#x8981;2&#x53E5;&#x4EE3;&#x7801;&#x5C31;&#x4F7F;<span class="s1">BMMusicTool&#x8FD9;&#x4E2A;&#x7C7B;&#x4E3A;&#x5355;&#x4F8B;&#x4E86;.&#x5E76;&#x4E14;&#x81EA;&#x9002;&#x5E94;ARC&#x548C;MRC.</span></p>
</blockquote>
<p>&#x4E0B;&#x8F7D;&#x6E90;&#x7801;:<a href="http://pan.baidu.com/s/1i3vTjXN" target="_blank" rel="noopener">BMSingleton.h</a></p>
<p>&#xA0;</p>
<p>&#xA0;</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/archives/">Home</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#介绍"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设计模式的分类"><span class="toc-number">2.</span> <span class="toc-text">设计模式的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JAVA中的23设计模式"><span class="toc-number">2.1.</span> <span class="toc-text">JAVA中的23设计模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOS中常见8种设计模式"><span class="toc-number">2.2.</span> <span class="toc-text">IOS中常见8种设计模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#单例模式-Singleton"><span class="toc-number">3.</span> <span class="toc-text">单例模式(Singleton)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#介绍-1"><span class="toc-number">3.1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单例模式核心"><span class="toc-number">3.1.1.</span> <span class="toc-text">单例模式核心</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#单例模式意义"><span class="toc-number">3.1.2.</span> <span class="toc-text">单例模式意义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统中常见的单例模式"><span class="toc-number">3.2.</span> <span class="toc-text">系统中常见的单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UIAccelerometer"><span class="toc-number">3.2.1.</span> <span class="toc-text">UIAccelerometer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIApplication"><span class="toc-number">3.2.2.</span> <span class="toc-text">UIApplication</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSBundle"><span class="toc-number">3.2.3.</span> <span class="toc-text">NSBundle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSFileManager"><span class="toc-number">3.2.4.</span> <span class="toc-text">NSFileManager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSNotificationCenter"><span class="toc-number">3.2.5.</span> <span class="toc-text">NSNotificationCenter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSUserDefaults"><span class="toc-number">3.2.6.</span> <span class="toc-text">NSUserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单例模式代码"><span class="toc-number">3.3.</span> <span class="toc-text">单例模式代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#初级代码-使用懒汉式"><span class="toc-number">3.3.1.</span> <span class="toc-text">初级代码-使用懒汉式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-保证永远只alloc一次"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">1.保证永远只alloc一次</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-规范代码-实现shared或者defaults方法"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">3.规范代码,实现shared或者defaults方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#高级代码-简化代码及宏实现-lt-推荐"><span class="toc-number">3.3.2.</span> <span class="toc-text">高级代码- 简化代码及宏实现&lt;推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-编写-h宏文件"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">1.编写.h宏文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-使用宏"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">2.使用宏</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#h中"><span class="toc-number">3.3.2.2.1.</span> <span class="toc-text">.h中</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#m中"><span class="toc-number">3.3.2.2.2.</span> <span class="toc-text">.m中</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2015/08/04/23-design-patterns/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2015/08/04/23-design-patterns/&text=IOS常见设计模式"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2015/08/04/23-design-patterns/&is_video=false&description=IOS常见设计模式"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=IOS常见设计模式&body=Check out this article: http://yoursite.com/2015/08/04/23-design-patterns/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2015/08/04/23-design-patterns/&title=IOS常见设计模式"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2015/08/04/23-design-patterns/&name=IOS常见设计模式&description=&lt;h2 id=&quot;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;a href=&quot;#&amp;#x4ECB;&amp;#x7ECD;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4ECB;&amp;#x7ECD;&quot;&gt;&lt;/a&gt;&amp;#x4ECB;&amp;#x7ECD;&lt;/h2&gt;&lt;p&gt;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF08;Design Pattern&amp;#xFF09;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x5957;&amp;#x88AB;&amp;#x53CD;&amp;#x590D;&amp;#x4F7F;&amp;#x7528;&amp;#x3001;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x77E5;&amp;#x6653;&amp;#x7684;&amp;#x3001;&amp;#x7ECF;&amp;#x8FC7;&amp;#x5206;&amp;#x7C7B;&amp;#x7F16;&amp;#x76EE;&amp;#x7684;&amp;#x3001;&amp;#x4EE3;&amp;#x7801;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7ECF;&amp;#x9A8C;&amp;#x7684;&amp;#x603B;&amp;#x7ED3;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&amp;#x56FA;&amp;#x6709;&amp;#x6A21;&amp;#x5F0F;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x53EF;&amp;#x91CD;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#x3001;&amp;#x8BA9;&amp;#x4EE3;&amp;#x7801;&amp;#x66F4;&amp;#x5BB9;&amp;#x6613;&amp;#x88AB;&amp;#x4ED6;&amp;#x4EBA;&amp;#x7406;&amp;#x89E3;&amp;#x3001;&amp;#x4FDD;&amp;#x8BC1;&amp;#x4EE3;&amp;#x7801;&amp;#x53EF;&amp;#x9760;&amp;#x6027;&amp;#x3002; &amp;#x6BEB;&amp;#x65E0;&amp;#x7591;&amp;#x95EE;&amp;#xFF0C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x4E8E;&amp;#x5DF1;&amp;#x4E8E;&amp;#x4ED6;&amp;#x4EBA;&amp;#x4E8E;&amp;#x7CFB;&amp;#x7EDF;&amp;#x90FD;&amp;#x662F;&amp;#x591A;&amp;#x8D62;&amp;#x7684;&amp;#xFF1B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F7F;&amp;#x4EE3;&amp;#x7801;&amp;#x7F16;&amp;#x5236;&amp;#x771F;&amp;#x6B63;&amp;#x5DE5;&amp;#x7A0B;&amp;#x5316;&amp;#xFF1B;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x7684;&amp;#x57FA;&amp;#x77F3;&amp;#x8109;&amp;#x7EDC;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x5C31;&amp;#x5982;&amp;#x540C;&amp;#x5EFA;&amp;#x7B51;&amp;#x4E2D;&amp;#x7684;&amp;#x5927;&amp;#x53A6;&amp;#x7684;&amp;#x7ED3;&amp;#x6784;&amp;#x4E00;&amp;#x822C;&amp;#x91CD;&amp;#x8981;&amp;#x6709;&amp;#x7CBE;&amp;#x901A;&amp;#x4E86;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x624D;&amp;#x6562;&amp;#x8BF4;&amp;#x771F;&amp;#x6B63;&amp;#x7406;&amp;#x89E3;&amp;#x4E86;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BF4;&amp;#xFF0C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x662F;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x67B6;&amp;#x6784;&amp;#x5E08;&amp;#x6240;&amp;#x5FC5;&amp;#x5907;&amp;#x7684;&amp;#x6280;&amp;#x80FD;&amp;#x4E4B;&amp;#x4E00;&amp;#x3002;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x9762;&amp;#x5411;&amp;#x5BF9;&amp;#x8C61;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5458;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x7CBE;&amp;#x901A;&amp;#x4E86;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x6446;&amp;#x8131;&amp;#x7801;&amp;#x5974;&amp;#x7684;&amp;#x547D;&amp;#x8FD0;&amp;#xFF0C;&amp;#x6210;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x8F6F;&amp;#x4EF6;&amp;#x5DE5;&amp;#x7A0B;&amp;#x5E08;&amp;#xFF0C;&amp;#x624D;&amp;#x80FD;&amp;#x5B8C;&amp;#x6210;&amp;#x81EA;&amp;#x8EAB;&amp;#x4EF7;&amp;#x503C;&amp;#x7684;&amp;#x98DE;&amp;#x8DC3;&amp;#x548C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x601D;&amp;#x60F3;&amp;#x7684;&amp;#x5347;&amp;#x534E;&amp;#xFF01;&lt;br&gt;&lt;/p&gt;&lt;/blockquote&gt;"><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 BirdMichael
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/archives/">Home</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>


    <!-- Disqus Comments -->
    <script type="text/javascript">
        var disqus_shortname = 'birdmichael';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


